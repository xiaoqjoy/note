# npm版本控制说明

## 版本号

	常见包的版本号是以"="、"v"开头，以数字和点号（.）分隔

```
v1.0.1
>=2.1.3

```

## 版本号范围

	 是一组指定或限制范围版本号，常见的操作符如下：

+ <
+ <=
+ >
+ >=
+ =

```
# 表示从1.2.7、1.2.8.....new version；但不包含1.2.5 或1.1.0
>=1.2.7    
```

#### 版本集

> 通过特殊的操作符可以由版本、版本范围组成版本集：

+ 使用空格，表示交集

```
# 表示1.2.7、1.2.8、1.2.9，但不含1.3.0、1.2.6等版本号
>=1.2.7 <1.3.0    
```

+ 使用||，表示并集

```
# 能匹配1.2.7、1.2.9、1.4.6，但不能匹配1.2.8、2.0.0
1.2.7 || >=1.2.9 <2.0.0
```

#### Prerelease Tags

> 有些版本号存在一些prerelease tag标识，并且只能匹配到具有相同的tag的版本。

```
# 大于v1.2.3-alpha.7版本，只匹配具有-alpha的版本
>v1.2.3-alpha.7
```

匹配规则：***只能匹配具有相同元数据和同一大版本号***

+ 消费者具有已知意图
+ 规避大版本风险

## 进阶版本范围用法

> 是众多操作符的总和使用出来的版本范围，常见操作符：

+ 空格  表示范围交集
+ ||     表示范围并集
+ -     表示范围区间
+ x/X/* 表示当前位任意版本值，从0开始计算
+ ~     表示小版本号进阶范围；允许等于小版本号，不等于进阶后的大版本号
+ ^ 表示大版本号进阶范围；允许等于当前版本号，不等于进阶后的大版本号

#### Hyphen Ranges X.Y.Z - A.B.C

版本范围，从X.Y.Z（包括）到A.B.C（包括）版本范围内，例如：

```
#等价版本范围 >=1.2.3 <=2.3.4
1.2.3 - 2.3.4  

#等价版本范围 >=1.2.0 <=2.3.4
1.2 - 2.3.4

#等价版本范围 >=1.2.3 <2.4.0
1.2.3 - 2.3

#等价版本范围 >=1.2.3 <3.0.0
1.2.3 - 2
```

#### X-Ranges 1.2.x 1.X 1.2.* *

使用X、x、*可以代替标准的版本数值：

+ * 等价于 0.0.0（匹配任何版本）
+ 1.x 等价于 >=1.0.0 <2.0.0
+ 1.2.x 等价于 >=1.2.0 <1.3.0

部分省略版本数值也被当成X-Range处理，常见的特殊字符如下：

+ "" 等价于* 等价于>=0.0.0
+ 1 等价于1.x.x 等价于>=1.0.0 <2.0.0
+ 1.2等价于1.2.x 等价于 >=1.2.0 <1.3.0

### Tilde Ranges ~1.2.3 ~1.2 ~1

~较小版本号范围匹配，例如：

```
# 等价版本范围：>=1.2.3 <1.3.0   
`1.2.3

# 等价版本范围：>=1.20 <1.3.0 (1.2.x)
`1.2

# 等价版本范围：>=1.0.0 <2.0.0 (1.x)
`1

# 等价版本范围：>=0.2.3 <0.3.0
`0.2.3

# 等价版本范围：>=0.2.0 <0.3.0(0.2.x)
`0.2

# 等价版本范围：>=0.0.0 <1.0.0 (0.x)
`0

# 等价版本范围：>=1.2.3-beta.2 <1.3.0
`1.2.3-beta.2
```

#### Caret Ranges ^1.2.3 ^0.2.5 ^0.0.4

^大版本号数值进阶版本范围，例如：

```
# 等价版本范围：>=1.2.3 <2.0.0
^1.2.3 

# 等价版本范围：>=0.2.3 <0.3.0
^0.2.3

# 等价版本范围：>=0.0.3 <0.04
^0.0.3

# 等价版本范围：>=1.2.0 <2.0.0
^1.2.x

# 等价版本范围：>=0.0.0 <0.1.0
^0.0.x

# 等价版本范围：>=1.0.0 <2.0.0
^1.x 

# 等价版本范围：>=0.0.0 <1.0.0
^0.x
```






