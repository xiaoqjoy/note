$(function(){function e(e){return $.each(e.data.matchList,function(t,a){var s=[];$.each(e.data.matchDetailList,function(t,i){var o=i.bMatchId,n=i.matchDetailId,p=[],l={},m=[];o==a.bMatchId&&s.push(i),$.each(e.data.funCompetitionList,function(e,t){t.matchDetailId==n&&p.push(t)}),i.fun=p,$.each(i.fun,function(e,t){4==t.competitionObject&&(l[t.competitionCode]||(l[t.competitionCode]=[]),l[t.competitionCode].push(t))});for(var t in l)m.push(l[t]);i.otherGuess=m,i.teamALogo=a.teamALogo,i.teamBLogo=a.teamBLogo,i.teamAName=a.teamAName,i.teamBName=a.teamBName}),a.matchDetail=s}),console.log(e),e}function t(e){if($(".compensate span").html()&&$(".bet_limit input").val()){var t=$(".compensate span").html()*$(".bet_limit input").val();$(".popup-teammember .income span").html(t.toFixed(2))}}function a(t){$(".new_play").html(template("new_play",e(t)))}template.helper("boCN",function(e){return"第"+["一","二","三","四","五","六","七","八","九"][e-1]+"局"}),template.helper("dateChange",function(e){return moudle.formatTime(new Date(e)).date+" "+moudle.formatTime(new Date(e)).clock}),moudle.ajax({url:"/api/match/guessing",type:"POST",data:{gameCode:"lol",pageIndex:1,pageSize:3,bGameIds:"",roundType:1}},function(e){a(e)}),$(".guessPage").on("click",".select-title span",function(){$(this).addClass("active").siblings().removeClass("active"),$(this).hasClass("title-players")?($(this).parent().parent().find(".players").show().find(".intro").html("选手竞猜"),$(this).parent().parent().find(".others").hide()):($(this).parent().parent().find(".others").show().find(".intro").html("其他玩法"),$(this).parent().parent().find(".players").hide())}),$(".guessPage").on("click",".guess_list li input",function(){var e=$(this).parent().attr("data-competitionCode"),t=$(this).parent().attr("data-matchDetailId");$("body").css("overflow-y","hidden"),moudle.ajax({url:"/api/competition/single-player-list",type:"POST",data:{guessCode:e,matchDetailId:t}},function(e){console.log(e),$(".popup-teammember").html(template("popup-teammember",e)),$(".popup-teammember,.mask").show()})}),$(".guessPage").on("click",".popup-teammember .close",function(){$("body").css("overflow-y","scroll"),$(".popup-teammember,.mask").hide()}),$(".guessPage").on("click",".guessStateTab a",function(){$(this).addClass("active").siblings().removeClass("active"),$(this).hasClass("gsing")?($(".guessing").addClass("active"),$(".guessEnd,.guessRule").removeClass("active")):$(this).hasClass("gsend")?($(".guessEnd").addClass("active"),$(".guessing,.guessRule").removeClass("active")):($(".guessRule").addClass("active"),$(".guessing,.guessEnd").removeClass("active"))}),$(".guessPage").on("click",".icon_intro",function(){$(".gsrule").addClass("active").siblings().removeClass("active"),$(".guessRule").addClass("active"),$("body").scrollTop(0),$(".guessing,.guessEnd").removeClass("active")}),$(".guessPage").on("click",".guess-list",function(){$(".popup_bet").show(),$(".popup_bet").animate({top:"27%"},300),$(".mask").show()}),$(".guessPage").on("click",".popup_old .closePopup",function(){$(".guess_box li a").removeClass("active"),$(".popup_bet").animate({top:"106%"},300,function(){$(this).css("top","-57%"),$(".popup_bet").hide()}),$(".mask").hide(),$("input.betCoin").val("")}),$(".guessPage").on("click",".select_popup li",function(){$(this).addClass("active").siblings().removeClass("active");var e=$(this).attr("data-playerImg"),a=$(this).attr("data-odds"),s=$(this).attr("data-playerName");$(".chooseplayer img").attr("src",e),$(".chooseplayer p").html(s),$(".compensate span").html(a),t()}),$(".guessPage").on("click",".bet input",function(){var e=$(this).parent().parent().parent().siblings(".matchVsScore"),t=$(this).parent().siblings(".bet_detail").find("span").html(),a=$(this).siblings(".teamName").html(),s=e.attr("data-gameName")+"  "+e.find(".matchTitle").html()+"  |  "+e.attr("data-teamAName")+"  VS  "+e.attr("data-teamBName")+"  总局";$("body").css("overflow-y","hidden"),$(".popup_bet_new .betMatch").html(s),$(".popup_bet_new .betWin span").html(a),$(".popup_bet_new .betObject span").html(t),$(".popup_bet_new,.mask").show()}),$(".guessPage").on("click",".popup_bet_new .closePopup",function(){$("body").css("overflow-y","scroll"),$(".popup_bet_new,.mask").hide()}),$(".guessPage").on("keyup",".popup-teammember .bet_limit input",function(){t()})});
//# sourceMappingURL=../maps/guessNew-1843.js.map
