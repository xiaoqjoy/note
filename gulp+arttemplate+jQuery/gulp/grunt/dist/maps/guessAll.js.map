{"version":3,"sources":["guessAll.js"],"names":["$","loadGuess","log","gameId","arr","join","moudle","cookieServer","pageIndex","gameCode","cacheObj","pageSize","bGameIds","data","page","guessDataObj","undefined","empty","matchList","matchDetailList","competitionList","gameName","competition2matchList","indexOf","dataDeal","append","template","loadGuessNext","par","callBack","fadeIn","comp","comStr","otherCompArr","match","compMap","e","length","competitionTypeName","JSON","parse","competitionId","i","obj1","j","bMatchId","bo","comObj","pair","otherPair","v","matchDetailId","brotherId","teamId","push","handleData","queryGameEndData","param","queryAllMatchGameEndData","scrollDown","promise","Deferred","tabState","pageCount","currentPage","date","matchDate","funWithPromise","fadeOut","resolve","endDateObj","gameEndNextBack","gameEndByDate","gameEndByDateBack","document","documentElement","scrollTop","body","templateType","addEndDetailList2match","refactorGuessEndData","ht","prose","cBack","promised","gameEndDataBack","html","datetimepicker","language","weekStart","todayBtn","clearBtn","autoclose","format","minView","on","this","attr","addClass","siblings","removeClass","myDate","val","str","isIE","console","apply","arguments","ss","text","detailArr","getNumOrNull","parseInt","lol_img","url","dota_img","initEndHlper","helper","obj","gamecode","urlConfig","key","lg","getFormatDateByLong","getChinese","getGameCodeName","getDefualTeamLogo","parseFloat","toFixed","competitionTypeCode","otherForOrder","stringify","padleft0","time","toString","replace","Date","String","substring","getFullYear","getMonth","getDate","getHours","getMinutes","teamAHeadPerMatch","teamBHeadPerMatch","formatTime","clock","num","gjh","data_words_di","match_number_one","data_words_ju","match_number_two","match_number_three","match_number_four","match_number_five","match_number_total","trim","getListForGuess","find","trigger","loadMatchList","hide","singleEndLoad","showGuessTabe","dateStatus","fullEndLoad","fullEndDataBack","funCompetitionList","typeArr","k","mItem","hero","fieldValues","fullEndKey","allEndHeroArr","icon","name","arrObj","team","player","other","competitionCode","allEndTeamArr","allEndPlayerArr","allEndOtherArr","matchId","l","act","initEndFull","index","parent","each","item","initEvent","delegate","select","id","allMatch","parents","eq","hasClass","click","singleAll","loadAllGuess","cache","message","status","showPlantFormLogin","loginStatus","show","animate","top","silideDown","code","coin","Util","popup","money","msg","odds","moneyFilter","Math","round","Number","window","scroll","height","css","is","slideToggle","clearAllCookie","hhly_login","initConfig","platformId","success","user","channel","_channel_","dj","slideUp","overflow","selector","splice","substr","initAnalyse","target","currentTarget","aName","bName","aId","bId","teamAId","teamBId","requiredBackField","split","teamAName","teamBName","len","tHeadPerMatch","winRate","DragonRate","TowerRate","BloodRate","prev","thisboxHide","analyseboxHide","thisboxshow","evt","event","srcElement","width","initGameTypeClikc","showSingleAll","initSingleAllTab","ajax","type","renderAll","competitionObject","splitAllMatchOther","matchName","codeArr","codeIndex","initAllMatchEvent","checkLogin","title","getFullPlayerList","getFullTeamList","getFullHeroList","guessCode","playerImg","playerName","shouyi","competitionid","betCount","top_title","betItem","betbilv","betObj","topTitle","peilv","shouy","shuru","peilu","profit","logOut","lyy","keys","cookie","rootDomain","domain","toUTCString","getPlantFormId","data1","data2","detail","itemDetail","this_fun","newArray","teamALogo","teamBLogo","scoreA","scoreB","fun","otherGuess","matchDetail","initNewEvent","guessItemName","calProfit","roundType","renderPage","_matchVsScore","first_play","benfit","all_prize","teamName","next","funComp","funSingleVO","funCompList","funCompJSON","matchDetailJSON","value","mvp","maxDeathTimesPlayerList","maxKillTimesPlayerList","maxHurtPlayerList","maxMoneyPlayerList","breakPosition","maxComboKill","matchTime1","matchTime2","bonusPool","bonusPoolA","funCompOther","extend","bonusPoolB","inputVal","ua","navigator","userAgent","toLowerCase","isIe","live","platform","scrollsTop","QPMH","QBMH","QAKH","QAAH","QADH","QABMH","QDGMH","QDKMH","QDBMH","CHAP","QDKT","QAKT","QDDLT","QDALT","QTMWT","QTLWT","QATMT","QPHMT","QAKP","QDKP","QADLP","QAAMP","QDAMP","QABMP","QDBMP","QDGMP","QAGMP","QPHMP","QR","QPHN","QBHN","QDMT","QDLT","QDKMN"],"mappings":"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","file":"../js/guessAll.js","sourcesContent":["\r\n$(function () {\r\n    var cacheObj = {\r\n        gameCode: 'dota2',    //游戏类型\r\n        gameName: 'dota2',    //游戏名称\r\n        _channel_: {\r\n            //  电竞渠道\r\n            dj: 'P00001',\r\n            //  一比分渠道\r\n            live: 'P00002',\r\n            //  平台渠道\r\n            platform: 'P00003'\r\n        },\r\n        singleAll:1,//1单场 2全系列\r\n    };\r\n    var arr = [];\r\n    function loadGuess(){\r\n        //load match\r\n        log('load-loadGuess')\r\n        var gameId = arr.join(\",\");\r\n        moudle.cookieServer('api/match/guessing',{pageIndex: 1,gameCode:cacheObj.gameCode,pageSize: 4,bGameIds:gameId},function(data){\r\n            if(data.page){\r\n                guessDataObj.page=data.page;\r\n            }else{\r\n                guessDataObj.page=null;\r\n            }\r\n            if(data.data == undefined){\r\n                $('.quizList .game-guesting').empty();\r\n                return;\r\n            }\r\n            $('.quizList .game-guesting').empty();\r\n            var matchList = data.data.matchList;\r\n            var matchDetailList = data.data.matchDetailList;\r\n            var competitionList = data.data.competitionList;\r\n            cacheObj.gameName = matchList[0].gameName;\r\n            competition2matchList(matchList,matchDetailList,competitionList);\r\n            var singleNewArr=['lol','dota2'];\r\n            if(singleNewArr.indexOf(cacheObj.gameCode)!=-1){\r\n                dataDeal(data);\r\n                $('.quizList .game-guesting').append(template('new_play', data));\r\n            }\r\n            log(data.data);\r\n            if(cacheObj.gameCode == \"ow\" || cacheObj.gameCode == \"cf\"){\r\n                $('.quizList .game-guesting').append(template('guess',data.data));\r\n            }else{\r\n                $('.quizList .game-guesting').append(template('quizItem',data.data));\r\n            }\r\n\r\n        })\r\n    }\r\n    function loadGuessNext(par,callBack) {\r\n        //{pageIndex: 1,gameCode:cacheObj.gameCode,pageSize: 4,bGameIds:gameId}\r\n        $(\".loaderMore\").fadeIn();\r\n        moudle.cookieServer('api/match/guessing',par,callBack);\r\n    }\r\n    function competition2matchList(matchList,matchDetailList,competitionList) {\r\n        //复制竞猜项 老玩法\r\n        var compMap = {};\r\n        var comp;\r\n        var comStr;\r\n        var otherCompArr;\r\n        var match;\r\n        for(var e = 0;e< competitionList.length; e++){\r\n            comp = competitionList[e];\r\n            comp.competitionTypeName = JSON.parse(comp.competitionTypeName)['zh_CN'];\r\n            compMap[comp.competitionId]=comp;\r\n        }\r\n        for(var i = 0;i< matchList.length;i++){\r\n            match = matchList[i];\r\n            match.obj1 = {};\r\n            comStr = ''; //\r\n            otherCompArr = [];\r\n            for(var j = 0;j< matchDetailList.length;j++){\r\n                if(matchList[i].bMatchId !== matchDetailList[j].bMatchId){\r\n                    continue;\r\n                }\r\n                //matchList[i].obj[matchDetailList[j].bo] = [];\r\n                matchList[i].obj1[matchDetailList[j].bo] = [];\r\n\r\n                var comObj;\r\n                var pair;\r\n                var otherPair;\r\n\r\n                for(var v = 0;v< competitionList.length;v++){\r\n                    comObj = competitionList[v];\r\n                    pair = null;\r\n                    if(matchDetailList[j].matchDetailId == competitionList[v].matchDetailId){\r\n                        //matchList[i].obj[matchDetailList[j].bo].push(comObj);\r\n                        //\r\n                        if(!compMap[comObj.brotherId] || comStr.indexOf(comObj.competitionId+'') >= 0\r\n                            || comStr.indexOf(comObj.brotherId+'') >= 0){\r\n                            continue;\r\n                        }\r\n\r\n                        // is other guess\r\n                        if(comObj.teamId <= '0'){\r\n                            if(comObj.competitionId < comObj.brotherId){\r\n                                otherPair=[comObj, compMap[comObj.brotherId]];\r\n                            }else{\r\n                                otherPair=[compMap[comObj.brotherId], comObj];\r\n                            }\r\n                            otherCompArr.push(otherPair);\r\n                            comStr += comObj.competitionId+',';\r\n                            continue;\r\n                        }\r\n\r\n                        if(comObj.competitionId < comObj.brotherId){\r\n                            pair=[comObj, compMap[comObj.brotherId]];\r\n                        }else{\r\n                            pair=[compMap[comObj.brotherId], comObj];\r\n                        }\r\n\r\n                        comStr += comObj.competitionId+',';\r\n                        matchList[i].obj1[matchDetailList[j].bo].push(pair);\r\n\r\n                    }\r\n                }\r\n\r\n                if(matchList[i].obj1[matchDetailList[j].bo].length == 0){\r\n                    delete matchList[i].obj1[matchDetailList[j].bo];\r\n                }\r\n            }\r\n            if(otherCompArr && otherCompArr.length > 0){\r\n                match.obj1['other'] = otherCompArr;\r\n            }\r\n        }\r\n    }\r\n    function handleData(data){\r\n        var matchList = data.data.matchList;\r\n        var matchDetailList = data.data.matchDetailList;\r\n        var competitionList = data.data.competitionList;\r\n\r\n        var cacheData = data;\r\n        var compMap = {};\r\n        var comp;\r\n        var comStr;\r\n        var otherCompArr;\r\n        var match;\r\n\r\n        for(var e = 0;e< competitionList.length; e++){\r\n            comp = competitionList[e];\r\n            comp.competitionTypeName = JSON.parse(comp.competitionTypeName)['zh_CN'];\r\n            compMap[comp.competitionId]=comp;\r\n        }\r\n\r\n        for(var i = 0;i< matchList.length;i++){\r\n            match = matchList[i];\r\n            match.obj1 = {};\r\n\r\n            comStr = ''; //\r\n            otherCompArr = [];\r\n\r\n            for(var j = 0;j< matchDetailList.length;j++){\r\n                if(matchList[i].bMatchId !== matchDetailList[j].bMatchId){\r\n                    continue;\r\n                }\r\n\r\n                //matchList[i].obj[matchDetailList[j].bo] = [];\r\n                matchList[i].obj1[matchDetailList[j].bo] = [];\r\n\r\n                var comObj;\r\n                var pair;\r\n                var otherPair;\r\n\r\n                for(var v = 0;v< competitionList.length;v++){\r\n\r\n                    comObj = competitionList[v];\r\n                    pair = null;\r\n\r\n                    if(matchDetailList[j].matchDetailId == competitionList[v].matchDetailId){\r\n                        //matchList[i].obj[matchDetailList[j].bo].push(comObj);\r\n\r\n                        //\r\n                        if(!compMap[comObj.brotherId] || comStr.indexOf(comObj.competitionId+'') >= 0\r\n                            || comStr.indexOf(comObj.brotherId+'') >= 0){\r\n                            continue;\r\n                        }\r\n\r\n                        // is other guess\r\n                        if(comObj.teamId <= '0'){\r\n                            if(comObj.competitionId < comObj.brotherId){\r\n                                otherPair=[comObj, compMap[comObj.brotherId]];\r\n                            }else{\r\n                                otherPair=[compMap[comObj.brotherId], comObj];\r\n                            }\r\n                            otherCompArr.push(otherPair);\r\n                            comStr += comObj.competitionId+',';\r\n                            continue;\r\n                        }\r\n\r\n                        if(comObj.competitionId < comObj.brotherId){\r\n                            pair=[comObj, compMap[comObj.brotherId]];\r\n                        }else{\r\n                            pair=[compMap[comObj.brotherId], comObj];\r\n                        }\r\n\r\n                        comStr += comObj.competitionId+',';\r\n                        matchList[i].obj1[matchDetailList[j].bo].push(pair);\r\n\r\n                    }\r\n                }\r\n\r\n                if(matchList[i].obj1[matchDetailList[j].bo].length == 0){\r\n                    delete matchList[i].obj1[matchDetailList[j].bo];\r\n                }\r\n            }\r\n\r\n            if(otherCompArr && otherCompArr.length > 0){\r\n                match.obj1['other'] = otherCompArr;\r\n            }\r\n        }\r\n    }\r\n    var tabState=0;//0竞猜中 1已结束 2玩法介绍；\r\n    var endDateObj={};//已结束状态\r\n    var guessDataObj={};\r\n\r\n    $('.guessPage').on('click',function () {\r\n        log('guessPage click');\r\n    });\r\n    $('.guessPage').on('click',function () {\r\n        log('guessPage click');\r\n    });\r\n    gameInit();\r\n    function gameInit() {\r\n        //入口方法\r\n        initEndHlper();\r\n        initEvent();\r\n        initEndFull();\r\n        initSingleAllTab();\r\n        initAllMatchEvent();\r\n        initNewEvent();\r\n        initGameTypeClikc();\r\n        Util.scrollsTop(scrollDown);\r\n        //请求从这里开始\r\n        getListForGuess();\r\n        showGuessTabe('.game-guesting');\r\n        initAnalyse();\r\n        //加载 入口\r\n        getPlantFormId();\r\n        loginStatus();\r\n    }\r\n    function queryGameEndData(param,callBack){\r\n        // var param = {\r\n        //     gameCode: '',\r\n        //     pageIndex: '',\r\n        //     pageSize: '',\r\n        //     bGameIds: '',\r\n        //     matchDate: '',\r\n        //     dateStatus: '',\r\n        //     roundType: ''\r\n        // }\r\n        moudle.cookieServer('api/match/guess-end',param,callBack)\r\n    }\r\n    //查询全系列赛 已结束\r\n    function queryAllMatchGameEndData(param,callBack){\r\n        // var param = {\r\n        //     gameCode: '',\r\n        //     pageIndex: '',\r\n        //     pageSize: '',\r\n        //     bGameIds: '',\r\n        //     matchDate: '',\r\n        //     dateStatus: '',\r\n        //     roundType: ''\r\n        // }\r\n        moudle.cookieServer('api/match/fun-all/guess-end',param,callBack)\r\n    }\r\n    function scrollDown(){\r\n        log(\"down down\")\r\n        //向下滚动时  加载下一页\r\n        var promise = $.Deferred();\r\n        if(tabState==0){\r\n            //竞猜中\r\n            //\r\n            if(!guessDataObj||!guessDataObj.page){\r\n                promise.resolve();\r\n            }else if(guessDataObj.page.pageIndex<guessDataObj.page.pageCount){\r\n                var currentPage = guessDataObj.page.pageIndex+1;\r\n                var gameId = arr.join(\",\");\r\n                var par = {gameCode:cacheObj.gameCode,\r\n                    pageIndex:currentPage,\r\n                    pageSize: 4,bGameIds:gameId\r\n                };\r\n                if(guessDataObj.date){\r\n                    par.matchDate = guessDataObj.date;\r\n                }\r\n\r\n                loadGuessNext(par,funWithPromise(promise,function(data){\r\n                    if(data.page){\r\n                        guessDataObj.page=data.page;\r\n                    }else{\r\n                        guessDataObj.page=null;\r\n                    }\r\n                    if(data.data == undefined){\r\n                        return;\r\n                    }\r\n                    var matchList = data.data.matchList;\r\n                    var matchDetailList = data.data.matchDetailList;\r\n                    var competitionList = data.data.competitionList;\r\n                    cacheObj.gameName = matchList[0].gameName;\r\n                    competition2matchList(matchList,matchDetailList,competitionList);\r\n                    if(cacheObj.gameCode == \"ow\" || cacheObj.gameCode == \"cf\"){\r\n                        $('.quizList .game-guesting').append(template('guess',data.data));\r\n                    }else{\r\n                        $('.quizList .game-guesting').append(template('quizItem',data.data));\r\n                    }\r\n                    $(\".loaderMore\").fadeOut();\r\n                }));\r\n            }else{\r\n                promise.resolve();\r\n            }\r\n        }else if(tabState==1){\r\n            //已结束\r\n            log(endDateObj);\r\n            if(!endDateObj||!endDateObj.page){\r\n                promise.resolve();\r\n            }else if(endDateObj.page.pageIndex<endDateObj.page.pageCount){\r\n                $(\".loaderMore\").fadeIn();\r\n                var currentPage = endDateObj.page.pageIndex+1;\r\n                var par = {gameCode:cacheObj.gameCode,\r\n                    pageIndex:currentPage\r\n                };\r\n                if(endDateObj.date){\r\n                    par.matchDate = endDateObj.date;\r\n                }\r\n                queryGameEndData(par,funWithPromise(promise,gameEndNextBack));\r\n            }else{\r\n                promise.resolve();\r\n            }\r\n        }\r\n        return promise.promise();\r\n    }\r\n    function gameEndByDate(){\r\n        //按日期查询 已结束\r\n        var par = {gameCode:cacheObj.gameCode,\r\n        };\r\n        if(endDateObj.date){\r\n            par.matchDate = endDateObj.date;\r\n        }\r\n        queryGameEndData(par,gameEndByDateBack);\r\n    }\r\n    function gameEndByDateBack(data) {\r\n        //处理按日期查询的数据\r\n        document.documentElement.scrollTop=document.body.scrollTop=0;\r\n        if(data.page){\r\n            endDateObj.page=data.page;\r\n        }else{\r\n            endDateObj.page=null;\r\n        }\r\n        if(data.data == undefined){\r\n            $('.game-end .guessEndList').empty();\r\n            return;\r\n        }\r\n        var lolArr=['dota2','lol','hearthstone','csgo','kg','cos'];\r\n        if(lolArr.indexOf(cacheObj.gameCode)!=-1){\r\n            data.data.templateType='lol';\r\n        }else{\r\n            data.data.templateType='ow';\r\n        }\r\n        var match = data.data;\r\n        addEndDetailList2match(match);\r\n        $('.game-end .guessEndList').empty();\r\n        if(cacheObj.gameCode=='lol'||cacheObj.gameCode=='dota2'){\r\n            refactorGuessEndData(data);\r\n            dataDeal(data);\r\n            $('.quizList .game-end').append(template('new_play_end', data));\r\n        }\r\n\r\n        for(var i=0;i<match.matchList.length;i++){\r\n            var ht;\r\n            if(match.templateType=='lol'){\r\n                ht = template('guessEndItem_lol',match.matchList[i]);\r\n            }else{\r\n                ht = template('guessEndItem_ow',match.matchList[i]);\r\n            }\r\n            if(ht){\r\n                $('.game-end .guessEndList').append(ht)\r\n            }\r\n        }\r\n        $(\".loaderMore\").fadeOut()\r\n    }\r\n    function funWithPromise(promise,callBack){\r\n        //加入 promise\r\n        var fun = function (prose,cBack) {\r\n            return function(data){\r\n                var callback = cBack;\r\n                callback(data);\r\n                var promised = prose;\r\n                if(promised){\r\n                    promised.resolve();\r\n                }\r\n            }\r\n        };\r\n        return fun(promise,callBack);\r\n    }\r\n    function gameEndNextBack(data) {\r\n        //向下滚动时  加载下一页 数据处理\r\n        var lolArr=['dota2','lol','hearthstone','csgo','kg','cos'];\r\n        if(lolArr.indexOf(cacheObj.gameCode)!=-1){\r\n            data.data.templateType='lol';\r\n        }else{\r\n            data.data.templateType='ow';\r\n        }\r\n        var match = data.data;\r\n        addEndDetailList2match(match);\r\n        if(data.page){\r\n            endDateObj.page=data.page;\r\n        }\r\n        for(var i=0;i<match.matchList.length;i++){\r\n            var ht;\r\n            if(match.templateType=='lol'){\r\n                ht = template('guessEndItem_lol',match.matchList[i]);\r\n            }else{\r\n                ht = template('guessEndItem_ow',match.matchList[i]);\r\n            }\r\n            if(ht){\r\n                $('.quizItem .guessEndList').append(ht)\r\n            }\r\n        }\r\n        $(\".loaderMore\").fadeOut();\r\n    }\r\n    function gameEndDataBack(data){\r\n        document.documentElement.scrollTop=document.body.scrollTop=0;\r\n        if(data.page){\r\n            endDateObj.page=data.page;\r\n        }else{\r\n            endDateObj.page=null;\r\n        }\r\n        if(data.data == undefined){\r\n            $('.game-end').empty();\r\n            return;\r\n        }\r\n        var lolArr=['dota2','lol','hearthstone','csgo','kg','cos'];\r\n        if(lolArr.indexOf(cacheObj.gameCode)!=-1){\r\n            data.data.templateType='lol';\r\n        }else{\r\n            data.data.templateType='ow';\r\n        }\r\n        var match = data.data;\r\n        addEndDetailList2match(match);\r\n\r\n        $('.game-end').html(template('guessEnd',match));\r\n        $(\".loaderMore\").fadeOut()\r\n        //初始化 日期插件\r\n        //\t日期控件\r\n        $('.searchJC').datetimepicker({\r\n            language: 'zh-cn',\r\n            weekStart: 1,\r\n            todayBtn: 1,\r\n            clearBtn: 1,\r\n            autoclose: 1,\r\n            format: 'yyyy-mm-dd',\r\n            minView: 2\r\n        });\r\n        $('.quizItem .dateSelect .week a').on(\"click\",function (e) {\r\n            endDateObj.date=$(this).attr(\"date-data\");\r\n            $(this).addClass(\"active\").siblings().removeClass(\"active\");\r\n            gameEndByDate();\r\n        });\r\n        $('.quizItem .dateSelect .penData .searchBtn').on(\"click\",function (e) {\r\n\r\n            var myDate = $('.penData  .myDate').val();\r\n            if(myDate) {\r\n                endDateObj.date = myDate;\r\n                gameEndByDate();\r\n            }\r\n        });\r\n    }\r\n    function log(str) {\r\n        //输出日志\r\n        if(!isIE()){\r\n            console.log.apply(null,arguments);\r\n        }\r\n        var ss=\"\";\r\n        for(var i=0;i<arguments.length;i++){\r\n            ss+=arguments[i]+\"\\n\"\r\n        }\r\n        if($(\".log_out p\").length>0){\r\n            var str=$(\".log_out p\").text()+'\\n'+ss;\r\n            $(\".log_out p\").text(str);\r\n        }\r\n    }\r\n    function addEndDetailList2match(data) {\r\n        //数组赛选处理 已结束\r\n        var detailArr = data.matchDetailList;\r\n        var matchList = data.matchList;\r\n        if(!detailArr||detailArr.length==0)return;\r\n        if(!matchList||matchList.length==0)return;\r\n        for(var i=0;i<matchList.length;i++){\r\n            var arr=[];\r\n            var bMatchId=matchList[i].bMatchId;\r\n            for(var j=0;j<detailArr.length;j++){\r\n                if(bMatchId == detailArr[j].bMatchId){\r\n                    arr.push(detailArr[j]);\r\n                }\r\n            }\r\n            matchList[i].matchDetailList=arr.length?arr:null;\r\n        }\r\n\r\n    }\r\n    /***\r\n     * 为null或空时，返回-。\r\n     * 0是有效数据，不返回-，\r\n     * @param val\r\n     * @return {*}\r\n     */\r\n    function getNumOrNull(val) {\r\n        if (val == 0) {\r\n            return val;\r\n        }\r\n        /// 因为!0=true，因为需先判断val是否为0\r\n        if (!val || parseInt(val) <= -1) {\r\n            return '-';\r\n        }\r\n        return val;\r\n    }\r\n    function lol_img(url){\r\n        var str = 'http://192.168.74.155:8011/static/lol/'+url;\r\n        if(url.indexOf(\"http://\")!=-1){\r\n            return url;\r\n        }\r\n        return str;\r\n    }\r\n    function dota_img(url){\r\n        var str = 'http://192.168.74.155:8011/static/dota2/'+url;\r\n        if(url.indexOf(\"http://\")!=-1){\r\n            return url;\r\n        }\r\n        return str;\r\n    }\r\n    function initEndHlper(){\r\n        //已结束\r\n        template.helper('log',function (obj) {\r\n            log(obj);\r\n            return 'log';\r\n        })\r\n        template.helper('endRootUrl',function(gamecode){\r\n            var str = moudle.urlConfig.url+gamecode;\r\n\r\n            return str;\r\n        });\r\n        template.helper('lol_img',lol_img);\r\n        template.helper('dota_img',dota_img);\r\n        //语言\r\n        template.helper('lg',function(obj,key){\r\n            return lg.lg(key);\r\n        });\r\n        template.helper('formatDate', getFormatDateByLong);//来源于 dateFormart.js\r\n        // template.helper('langData', getValueByLanguage);没找到该方法\r\n        template.helper('getChinese', getChinese);\r\n        template.helper('getNumOrNull', getNumOrNull);\r\n        template.helper('getGameCodeName', getGameCodeName);\r\n        template.helper('getDefualTeamLogo', getDefualTeamLogo);\r\n\r\n        //竞猜中\r\n        template.helper('judgeNull',function(obj){\r\n            if(obj == null){\r\n                return '../images/default.png'\r\n            }\r\n            return obj\r\n        });\r\n\r\n        template.helper('supple',function(obj){\r\n            return parseFloat(obj).toFixed(2)\r\n        })\r\n\r\n        template.helper('judgeClass',function(obj){\r\n            if(obj.competitionTypeCode == 'HW'){\r\n                if(obj.otherForOrder == '1'){\r\n                    return '大'\r\n                }else if(obj.otherForOrder == '2'){\r\n                    return '小'\r\n                }\r\n            }\r\n            if(obj.competitionTypeCode == 'SD'){\r\n                if(obj.otherForOrder == '1'){\r\n                    return '单'\r\n                }else if(obj.otherForOrder == '2'){\r\n                    return '双'\r\n                }\r\n            }\r\n            return '';\r\n        })\r\n\r\n        template.helper('jsonString',function(obj){\r\n            return JSON.stringify(obj)\r\n        });\r\n\r\n        template.helper('string',function(obj){\r\n            return JSON.parse(obj)['zh_CN']\r\n        })\r\n\r\n        template.helper('judgeMatch',function(obj){\r\n            if(obj == 0){\r\n                return '总局'\r\n            }else if(obj == -1){\r\n                return '全系列赛'\r\n            }else if(obj == 'other'){\r\n                return '其他玩法'\r\n            } else{\r\n                return '第'+obj+'局'\r\n            }\r\n        })\r\n\r\n        template.helper('dateFormat',function(obj){\r\n            function padleft0(time) {\r\n                return time.toString().replace(/^[0-9]{1}$/, \"0\" + time);\r\n            };\r\n            if(obj){\r\n                var date = new Date(parseInt(String(obj).substring(0,10)) * 1000);\r\n                var year = date.getFullYear(),\r\n                    month = padleft0(date.getMonth()+1),\r\n                    day = padleft0(date.getDate()),\r\n                    hours = padleft0(date.getHours()),\r\n                    minutes = padleft0(date.getMinutes());\r\n                return year+ '-' +month+ '-' +day+ ' ' + hours+ ':' +minutes;\r\n            }\r\n            return '-';\r\n        });\r\n\r\n        template.helper('teamAPercent',function(data){\r\n            return (data.teamAHeadPerMatch/(data.teamAHeadPerMatch+data.teamBHeadPerMatch))*100\r\n        })\r\n\r\n        template.helper('teamBPercent',function(data){\r\n            return (data.teamBHeadPerMatch/(data.teamAHeadPerMatch+data.teamBHeadPerMatch))*100\r\n        })\r\n        // new\r\n        template.helper('boCN', function (obj) {\r\n            var array = ['一', '二', '三', '四', '五', '六', '七', '八', '九'];\r\n            return '第' + array[obj - 1] + '局';\r\n        });\r\n        template.helper('dateChange', function (obj) {\r\n            var newDate = moudle.formatTime(new Date(obj)).date + ' ' + moudle.formatTime(new Date(obj)).clock;\r\n            return newDate;\r\n        });\r\n        template.helper('deal_breakPosition', function (obj) {\r\n            var array = ['上路', '中路', '下路'];\r\n            return array[obj - 1]\r\n        });\r\n        template.helper('deal_maxComboKill', function (obj) {\r\n            var array = ['无多杀', '双杀', '三杀', '四杀', '五杀'];\r\n            return array[obj - 1]\r\n        });\r\n        template.helper('time', function (obj) {\r\n            var newTime = parseInt(obj / 60);\r\n            return newTime;\r\n        });\r\n    }\r\n\r\n    function getChinese(num) {\r\n        switch (parseInt(num)) {\r\n            case 1:\r\n                return lg.gjh.data_words_di + lg.gjh.match_number_one + lg.gjh.data_words_ju;\r\n            case 2:\r\n                return lg.gjh.data_words_di + lg.gjh.match_number_two + lg.gjh.data_words_ju;\r\n            case 3:\r\n                return lg.gjh.data_words_di + lg.gjh.match_number_three + lg.gjh.data_words_ju;\r\n            case 4:\r\n                return lg.gjh.data_words_di + lg.gjh.match_number_four + lg.gjh.data_words_ju;\r\n            case 5:\r\n                return lg.gjh.data_words_di + lg.gjh.match_number_five + lg.gjh.data_words_ju;\r\n            case 0:\r\n                return lg.gjh.match_number_total + lg.gjh.data_words_ju;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    /**\r\n     * 获取战队默认LOGO。\r\n     *\r\n     * @param val\r\n     * @return {*}\r\n     */\r\n    function getDefualTeamLogo(val) {\r\n        if ($.trim(val) == '') {\r\n            return 'assets/img/default.png';\r\n        }\r\n        return val;\r\n    }\r\n\r\n    /**\r\n     * 国际化游戏代码名称\r\n     * @param gameCode\r\n     */\r\n    function getGameCodeName(gameCode) {\r\n        return lg.gjh['data_game_code_name_' + gameCode]\r\n    }\r\n\r\n    function getListForGuess() {\r\n        moudle.cookieServer('api/portal/list-for-guess','',function(data){\r\n            $('.gameClass').html(template('gameClass',data));\r\n            // $(\".gameClass\").find(\"li:eq(0)\").addClass(\"active\");\r\n            //默认选择第一游戏\r\n            $(\".gameClass\").find(\"li:eq(0)\").trigger(\"click\");\r\n        })\r\n    }\r\n\r\n    function loadMatchList(){\r\n        moudle.cookieServer('api/match-type/list-for-guess',{gameCode:cacheObj.gameCode},function(data){\r\n            $('.matchClass').html(template('matchClass',data))\r\n            $('.list li:gt(3)').hide();\r\n        })\r\n    }\r\n    function singleEndLoad(){\r\n        //单场\r\n        endDateObj.date=null;\r\n        showGuessTabe('.game-end');\r\n        queryGameEndData({gameCode:cacheObj.gameCode,dateStatus:1,\r\n        },gameEndDataBack);\r\n    }\r\n    function fullEndLoad(){\r\n        // 全系列赛 加载 已结束\r\n        endDateObj.date=null;\r\n        showGuessTabe('.game-end');\r\n        $('.game-end').empty();\r\n        queryAllMatchGameEndData({gameCode:cacheObj.gameCode,dateStatus:1,},fullEndDataBack)\r\n    }\r\n    var fullEndKey = {\r\n        QPMH:\"maxShowHero\",\r\n        QBMH:\"maxForbidHero\",\r\n        QAKH:\"avgMaxHeadHero\",\r\n        QAAH:\"avgMaxAssistNumHero\",\r\n        QADH:\"avgMaxDeathNumHero\",\r\n        QABMH:\"avgMaxLastHitHero\",\r\n        QDGMH:\"maxGpmHero\",\r\n        QDKMH:\"maxHeadHero\",\r\n        QDBMH:\"maxLastHitHero\",\r\n        CHAP:\"championTeam\",\r\n        QDKT:\"maxHeadTeam\",\r\n        QAKT:\"avgHeadTeam\",\r\n        QDDLT:\"minDeathTeam\",\r\n        QDALT:\"maxAssistHitTeam\",\r\n        QTMWT:\"maxTimeWinTeam\",\r\n        QTLWT:\"minTimeWinTeam\",\r\n        QATMT:\"avgMaxTimeTeam\",\r\n        QPHMT:\"maxHeroTeam\",\r\n        QAKP:\"avgMaxHeadPlayer\",\r\n        QDKP:\"maxHeadPlayer\",\r\n        QADLP:\"avgMinDeathPlayer\",\r\n        QAAMP:\"avgMaxAssistHitPlayer\",\r\n        QDAMP:\"maxAssistHitPlayer\",\r\n        QABMP:\"avgLastHitPlayer\",\r\n        QDBMP:\"maxLastHitPlayer\",\r\n        QDGMP:\"maxGpmPlayer\",\r\n        QAGMP:\"avgMaxGpmPlayer\",\r\n        QPHMP:\"maxShowHeroPlayer\",\r\n        QR:\"sumBoNum1,sumBoNum2\",\r\n        QPHN:\"showHeroNum1,showHeroNum2\",\r\n        QBHN:\"forbidHeroNum1,forbidHeroNum2\",\r\n        QDMT:\"maxMatchTime1,maxMatchTime2\",\r\n        QDLT:\"minMatchTime1,minMatchTime2\",\r\n        QDKMN:\"maxHead1,maxHead2\",\r\n    }\r\n    var allEndPlayerArr=[\"QAKP\",\"QDKP\",\"QADLP\",\"QAAMP\",\"QDAMP\",\"QABMP\",\"QDBMP\",\"QDGMP\",\"QAGMP\",\"QPHMP\"];\r\n    var allEndHeroArr=[\"QPMH\",\"QBMH\",\"QAKH\",\"QAAH\",\"QADH\",\"QABMH\",\"QDGMH\",\"QDKMH\",\"QDBMH\"];\r\n    var allEndTeamArr=[\"CHAP\",\"QDKT\",\"QAKT\",\"QDDLT\",\"QDALT\",\"QTMWT\",\"QTLWT\",\"QATMT\",\"QPHMT\"];\r\n    var allEndOtherArr=[\"QR\",\"QPHN\",\"QBHN\",\"QDMT\",\"QDLT\",\"QDKMN\"];\r\n    function fullEndDataBack(data) {\r\n        log('fullEndDataBack')\r\n        log(data);\r\n        var str = \"aaaaa\";\r\n        var matchDetailList = data.data.matchDetailList;\r\n        var matchList =  data.data.matchList;\r\n        var funCompetitionList = data.data.funCompetitionList;\r\n        var typeArr=[,'hero','team','player','other'];\r\n        if(!matchDetailList || !funCompetitionList){\r\n            $('.game-end').empty();\r\n            return;\r\n        }\r\n        for(var k = 0;k<matchDetailList.length;k++){\r\n            var mItem = matchDetailList[k];\r\n            for(var hero in mItem.fieldValues){\r\n                for(var key in fullEndKey){\r\n                    // log(key,hero,allEndHeroArr.indexOf(key),fullEndKey[key])\r\n                    if(fullEndKey[key]==hero && allEndHeroArr.indexOf(key)!=-1 && mItem.fieldValues[hero].length>0){\r\n                        log(hero,mItem.fieldValues[hero]);\r\n                        if(cacheObj.gameCode=='lol'){\r\n                            mItem.fieldValues[hero][0].icon =lol_img(mItem.fieldValues[hero][0].icon);\r\n                        }\r\n                        if(cacheObj.gameCode=='dota2'){\r\n                            mItem.fieldValues[hero][0].icon =dota_img(mItem.fieldValues[hero][0].icon);\r\n                        }\r\n\r\n                        mItem.fieldValues[hero][0].name = JSON.parse(mItem.fieldValues[hero][0].name);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for(var i = 0;i<matchList.length;i++){\r\n            var funList={};\r\n            var arrObj={hero:[],team:[],player:[],other:[]};\r\n            for(var j = 0;j<funCompetitionList.length;j++){\r\n                var competitionCode = funCompetitionList[j].competitionCode\r\n                if(matchList[i].matchDetailId == funCompetitionList[j].matchDetailId){\r\n                    if(allEndHeroArr.indexOf(competitionCode)!=-1){\r\n                        arrObj.hero.push(funCompetitionList[j]);\r\n                    }\r\n                    if(allEndTeamArr.indexOf(competitionCode)!=-1){\r\n                        arrObj.team.push(funCompetitionList[j]);\r\n                    }\r\n                    if(allEndPlayerArr.indexOf(competitionCode)!=-1){\r\n                        arrObj.player.push(funCompetitionList[j]);\r\n                    }\r\n                    if(allEndOtherArr.indexOf(competitionCode)!=-1){\r\n                        arrObj.other.push(funCompetitionList[j]);\r\n                    }\r\n                    var fieldValues=[];\r\n                    for(var k = 0;k<matchDetailList.length;k++){\r\n                        if(matchDetailList[k].matchId==matchList[i].matchId){\r\n                            fieldValues=matchDetailList[k].fieldValues[fullEndKey[funCompetitionList[j].competitionCode]];\r\n                            // fieldValues.push(matchDetailList[k].fieldValues[fullEndKey[funCompetitionList[j].competitionCode]]);\r\n                        }\r\n                    }\r\n                    funCompetitionList[j].fieldValues=fieldValues;\r\n                };\r\n            }\r\n            for(var l=1;l<typeArr.length;l++){\r\n                if(!arrObj.act&&arrObj[typeArr[l]].length>0){\r\n                    arrObj.act = typeArr[l];\r\n                }\r\n            }\r\n            matchList[i].matchDetailList = arrObj;\r\n        }\r\n\r\n        var ht = template(\"new_play_all_end\",data.data);\r\n        $('.game-end').html(ht)\r\n        log(data);\r\n    }\r\n    function initEndFull(){\r\n        //已结束 点击 英雄 战队 选手 其他 切换\r\n        $('.quizList ').on(\"click\",\".game-end .new_play .list li\",function(e){\r\n            $(this).addClass(\"active\").siblings().removeClass('active');\r\n            var index = $(this).index();\r\n            $(this).parent().parent().find(\".panel > div\").each(function(i,item){\r\n                if(i == index){\r\n                    $(this).removeClass(\"hide\");\r\n                }else{\r\n                    $(this).addClass(\"hide\");\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function initEvent() {\r\n        //赛事切换\r\n        $(\".matchClass\").delegate(\"li a\",\"click\",function(){\r\n            var select = $(this).find('.icon_radio'),\r\n                id = $(this).attr('data-id');\r\n            arr.push(id);\r\n            if(id == ''){\r\n                arr = [];\r\n            }\r\n            var allMatch = $(this).parents(\"li\").siblings().eq(0);\r\n            select.addClass('selected');\r\n            $(allMatch[0]).find('.allMatch').removeClass('selected');\r\n            if(select.hasClass('allMatch')){\r\n                select.addClass('selected');\r\n                $(this).parents(\"li\").siblings().find('.icon_radio').removeClass('selected')\r\n            }\r\n            loadGuess();\r\n        })\r\n\r\n        $(\".guessStateTab a\").click(function(){\r\n            var val = $(this).find('span').html();\r\n            $(this).addClass(\"active\").siblings().removeClass(\"active\");\r\n            tabState =$(this).index();\r\n            if(val == '玩法介绍'){\r\n                $('.game-rule').html(template('guessRule',null));\r\n                showGuessTabe('.game-rule');\r\n\r\n            }else if(val == '竞猜中'){\r\n\r\n\r\n                showGuessTabe('.game-guesting');\r\n                if(cacheObj.singleAll==1){\r\n                    loadGuess();\r\n                }else{\r\n                    loadAllGuess();\r\n                }\r\n            }else{\r\n                //已结束\r\n                if(cacheObj.singleAll==1){\r\n                    singleEndLoad();\r\n                }else{\r\n                    fullEndLoad();\r\n                }\r\n            }\r\n        })\r\n\r\n        //open bet\r\n        $(\".quizList .game-guesting\").delegate(\".quizItem li a\",\"click\",function(){\r\n            var cache = JSON.parse($(this).attr('data-cache'));\r\n            cache.gameName = cacheObj.gameName;\r\n            cache.gameCode = cacheObj.gameCode;\r\n            var data = {data: cache};\r\n\r\n            moudle.cookieServer('api/user/has-login','',function(message){\r\n                if(message.status == 300){\r\n                    showPlantFormLogin();\r\n                }else{\r\n                    loginStatus();\r\n                    $('.guessPage > .bet').html(template('bet',data));\r\n                    $(\".mask\").show();\r\n                    $(\".guessPage > .bet .popup_bet\").show();\r\n                    $(\".guessPage > .bet .popup_bet\").animate({top: \"27%\"}, 300);\r\n                }\r\n            })\r\n            //-----\r\n            // if(document.cookie == ''){\r\n            //     hhly_login.show();\r\n            //     return;\r\n            // }\r\n            // loginStatus();\r\n            // $('.bet').html(template('bet',data));\r\n            // $(\".mask\").show();\r\n            // $(\".popup_bet\").show();\r\n            // $(\".popup_bet\").animate({top: \"27%\"}, 300);\r\n        })\r\n\r\n        //close bet\r\n        $(\".bet\").delegate(\".closePopup\",\"click\",function(){\r\n            silideDown();\r\n        })\r\n\r\n        $(\".bet\").delegate(\".betCoin\",\"click\",function(){\r\n            $(this).attr(\"placeholder\", \"\");\r\n        })\r\n\r\n        //at once bet\r\n        $(\".bet\").delegate(\".betBtn\",\"click\",function(){\r\n            var id = $(this).attr(\"data-id\"),\r\n                code = $(this).attr(\"data-code\"),\r\n                coin = $(this).parent().siblings(\".betCount\").find(\".betCoin\").val();\r\n            if (!$('.betCoin').val()) {\r\n                Util.popup.show(\"请输入金额\");\r\n                return;\r\n            } else if ($('.betCoin').val() < 10){\r\n                Util.popup.show(\"最小下注金额10金币\");\r\n                return;\r\n            }\r\n\r\n            moudle.cookieServer('api/bet/save',{competitionId: id,money: coin,gameCode: code},function(data){\r\n                if(data.status == 200){\r\n                    Util.popup.show(\"投注成功\");\r\n                    loginStatus();\r\n                }\r\n                Util.popup.show(data.msg);\r\n            })\r\n            silideDown();\r\n        });\r\n\r\n        //金币输入框事件处理\r\n        $(\".bet\").delegate(\"input.betCoin\",\"keyup\",function(){\r\n            var odds = $(\".odds\").html();\r\n            var val = $(this).val();\r\n            $(this).val(moneyFilter(val));\r\n            $('.pre-win').text(Math.round(Number(val) * Number(odds) * 100) / 100.0)\r\n        })\r\n\r\n        //滚动固定弹窗\r\n        $(window).scroll(function(){\r\n            if ($(document).scrollTop() >= $(document).height() - $(window).height()){\r\n                //alert(\"滚动条已经到达底部为\" + $(document).scrollTop());\r\n            }\r\n            var scrollTop = document.body.scrollTop;\r\n            if(scrollTop < 80){\r\n                $(\".scroll_box\").css(\"top\",\"75px\");\r\n            }else{\r\n                $(\".scroll_box\").css(\"top\",\"-8px\");\r\n            }\r\n        })\r\n\r\n        $('.list li:gt(3)').hide();\r\n        $('.moreDate').click(function (){\r\n            if ($('.list li:gt(3)').is(\":visible\")) {\r\n                $(this).find(\".icon_more\").removeClass(\"up\");\r\n            } else {\r\n                $(this).find(\".icon_more\").addClass(\"up\");\r\n            }\r\n            $('.list li:gt(3)').slideToggle('normal');\r\n        });\r\n        $(\".guess_box .guessItem:odd\").addClass(\"oddcss\");\r\n        $(\".guess_box .guessItem:even\").addClass(\"evencss\");\r\n\r\n        //login\r\n        $(\".headTop\").delegate(\".loginBtn\",\"click\",function(){\r\n            showPlantFormLogin();\r\n        });\r\n        //签到\r\n        $(\".headTop\").delegate(\".sign\",\"click\",function(){\r\n            //$(\".sign_popup\").html(template(\"sign\",null));\r\n        })\r\n        //exit login\r\n        $(\".headTop\").delegate(\".exitLogin\",\"click\",function(){\r\n            clearAllCookie();\r\n            loginStatus();\r\n        })\r\n    }\r\n    function showPlantFormLogin() {\r\n        hhly_login.show();\r\n        hhly_login.initConfig({\r\n            \"platformId\": cacheObj.platformId ,\r\n            \"success\": function (data){\r\n                var user = data.user;\r\n                user.channel = cacheObj._channel_.dj;\r\n                moudle.cookieServer('api/user/login-platform',user,function(data){\r\n                    loginStatus();\r\n                })\r\n                $('#hhly_sso_login_mask').fadeOut(100);\r\n                $('#hhly_sso_login').slideUp(200);\r\n                $(\"body\").height($(window).height()).css({\"overflow\": \"\"});\r\n                //judge login\r\n            }\r\n        });\r\n    }\r\n    function showGuessTabe(selector) {\r\n        log('show',selector);\r\n        var arr=['.game-guesting','.game-end','.game-rule'];\r\n        $(selector).show();\r\n        log(selector);\r\n        arr.splice(arr.indexOf(selector),1);\r\n        log(arr);\r\n        for(var i=0;i<arr.length;i++){\r\n            $(arr[i]).hide();\r\n        }\r\n\r\n    }\r\n    function silideDown(){\r\n        $(\".guess_box li a\").removeClass(\"active\");\r\n        $(\".popup_bet\").animate({top: \"106%\"}, 300, function (){\r\n            $(this).css(\"top\", \"-57%\");\r\n            $(\".popup_bet\").hide();\r\n            $(\".bet\").html(\"\");\r\n            $(\".mask\").hide();\r\n        });\r\n        $(\"input.betCoin\").val(\"\");\r\n    }\r\n\r\n    function moneyFilter(str){\r\n        return str.replace(/^0+|[\\D]+/g, \"\").substr(0, 5);\r\n    }\r\n\r\n    function initAnalyse(){\r\n        //战队比赛数据分析\r\n        $(\".quizList .game-guesting\").delegate(\".quizItem .btn_analyse\",\"click\",function(e){\r\n            var target = $(e.currentTarget),\r\n                aName = target.attr(\"data-teamAName\"),\r\n                bName = target.attr(\"data-teamBName\"),\r\n                gameCode = target.attr(\"data-code\"),\r\n                aId = target.attr(\"data-aid\"),\r\n                bId = target.attr(\"data-bid\");\r\n            moudle.cookieServer('api/match/team-compare',{teamAId: aId,teamBId: bId,gameCode: gameCode},function(data){\r\n                var arr = data.data.requiredBackField.split(\",\");\r\n                data.data.teamAName = aName;\r\n                data.data.teamBName = bName;\r\n                data.data.requiredBackField = arr;\r\n                var len = arr.length;\r\n                for(var i = 0; i < len; i++){\r\n                    if(arr[i] == \"teamAHeadPerMatch\"){\r\n                        data.data.tHeadPerMatch = true;\r\n                    }\r\n                    if(arr[i] == \"teamAWinRate\"){\r\n                        data.data.winRate = true;\r\n                    }\r\n                    if(arr[i] == \"teamAFirstBigDragonRate\"){\r\n                        data.data.DragonRate = true;\r\n                    }\r\n                    if(arr[i] == \"teamAFirstTowerRate\"){\r\n                        data.data.TowerRate = true;\r\n                    }\r\n                    if(arr[i] == \"teamAFirstBloodRate\"){\r\n                        data.data.BloodRate = true;\r\n                    }\r\n                }\r\n                target.prev().html(template(\"analyseBox\",data));\r\n                if(!target.parent().hasClass('active')){\r\n                    analyseboxHide();\r\n                    target.parent().addClass('active');\r\n                    thisboxshow(target);\r\n                }else{\r\n                    target.parent().removeClass('active');\r\n                    thisboxHide(target);\r\n                }\r\n            })\r\n        });\r\n\r\n        $('.match_analyse_box,.peilv,.mask').click(function(){\r\n            return false;\r\n        });\r\n        $('body').click(function (e) {\r\n            evt = event.srcElement ? event.srcElement : event.target;\r\n            if($(evt).hasClass('btn_analyse')||$(evt).parent().hasClass('btn_analyse')){\r\n                return;\r\n            }\r\n            analyseboxHide();\r\n        });\r\n\r\n\r\n    }\r\n    function thisboxshow(target){\r\n        target.siblings('.lit-analysebox').animate({width: \"245px\"},'fast',function (){\r\n            target.find('.arrRight').hide();\r\n            target.find('.arrLeft').show();\r\n        });\r\n    }\r\n    function thisboxHide(target) {\r\n        target.find('.arrRight').show();//右箭头显示\r\n        target.find('.arrLeft').hide();//左箭头隐藏\r\n        target.siblings('.lit-analysebox').animate({width: \"0px\"});\r\n    }\r\n    function analyseboxHide(){\r\n        $('.btn_analyse').parent().removeClass('active');\r\n        $('.btn_analyse').find('.arrRight').show();//右箭头显示\r\n        $('.btn_analyse').find('.arrLeft').hide();//左箭头隐藏\r\n        $('.btn_analyse').siblings('.lit-analysebox').animate({width: \"0px\"});\r\n    }\r\n\r\n    function initGameTypeClikc() {\r\n        $(\".gameClass \").delegate(\"li\",\"click\",function(){\r\n            log(\"gameClass click\")\r\n            $(this).addClass(\"active\").siblings().removeClass(\"active\");\r\n            var gameCode = $(this).attr(\"data-gameCode\");\r\n            arr = [];\r\n            cacheObj.gameCode = gameCode;\r\n            loadMatchList();\r\n            if(showSingleAll(gameCode)){\r\n                //默认进入单场 single\r\n                $('.single_all .single').trigger(\"click\");\r\n            }else{\r\n                cacheObj.singleAll=1;\r\n                //自动触发 竞猜中 点击\r\n                $($(\".guessStateTab a\")[0]).trigger(\"click\");\r\n                // loadGuess();\r\n            }\r\n        })\r\n    }\r\n    function showSingleAll(gameCode) {\r\n        //是否显示 单场 全系列赛 tab\r\n        var arr=['dota2','lol'];\r\n        if(arr.indexOf(gameCode)!=-1){\r\n            $('.single_all').show();\r\n        }else{\r\n            $('.single_all').hide();\r\n        }\r\n        return arr.indexOf(gameCode)!=-1\r\n    }\r\n    function initSingleAllTab() {\r\n        $('.single_all div').on(\"click\",function(e){\r\n            log($(this).index());\r\n            //\r\n            $(this).addClass('active').siblings().removeClass('active');\r\n            var index = $(this).index();//0 single 1 all\r\n            if(index==0){\r\n                //single\r\n                cacheObj.singleAll=1;\r\n            }else{\r\n                //all\r\n                cacheObj.singleAll=2;\r\n            }\r\n            $($(\".guessStateTab a\")[0]).trigger(\"click\");\r\n        })\r\n    }\r\n    function loadSingleGuess() {\r\n        //单场\r\n        moudle.ajax({\r\n            url: '/api/match/guessing',\r\n            type: 'POST',\r\n            data: {\r\n                gameCode: cacheObj.gameCode,\r\n                pageIndex: 1,\r\n                pageSize: 3,\r\n                bGameIds: '',\r\n                roundType: 1\r\n            }\r\n        }, function (data) {\r\n            renderPage(data);\r\n        });\r\n\r\n    }\r\n\r\n    function loadAllGuess() {\r\n        //加载全系列赛\r\n        //api/match/fun-all/guessing\r\n        moudle.ajax({\r\n                url: '//api/match/fun-all/guessing',\r\n                type: 'POST',\r\n                data: {\r\n                    gameCode: cacheObj.gameCode,\r\n                    pageIndex: 1,\r\n                    pageSize: 3,\r\n                    bGameIds: ''\r\n                }\r\n            }, function (data) {\r\n                renderAll(data);\r\n            }\r\n        )\r\n    }\r\n    //全系列赛 渲染\r\n    function renderAll(data){\r\n        log(data);\r\n        // dataDeal(data);\r\n        //matchList\r\n        //funCompetitionList\r\n        var matchList = data.data.matchList;\r\n        var funCompetitionList = data.data.funCompetitionList;\r\n        //matchDetailList\r\n        log(cacheObj.gameCode);\r\n        var typeArr=[,'hero','team','player','other'];\r\n        for(var i=0;i<matchList.length;i++){\r\n            var match = matchList[i];\r\n            var arrObj={hero:[],team:[],player:[],other:[]};\r\n            for(var j = 0;j<funCompetitionList.length;j++){\r\n                if(match.matchDetailId==funCompetitionList[j].matchDetailId){\r\n\r\n                    arrObj[typeArr[funCompetitionList[j].competitionObject]].push(funCompetitionList[j]);\r\n                }\r\n            }\r\n            for(var k=1;k<typeArr.length;k++){\r\n                if(! arrObj.act&&arrObj[typeArr[k]].length>0){\r\n                    arrObj.act = typeArr[k];\r\n                }\r\n            }\r\n            splitAllMatchOther(arrObj)\r\n            arrObj.matchDetailId = match.matchDetailId;\r\n            arrObj.matchName = match.matchName;\r\n            match.matchDetailList = arrObj;\r\n        }\r\n        log(data);\r\n        $('.quizList .game-guesting').empty();\r\n        $('.quizList .game-guesting').append(template('new_play_all',data.data));\r\n    }\r\n    function splitAllMatchOther(arrObj){\r\n        //其他 竞猜 分组\r\n        var other = arrObj.other;\r\n        if(!other||other.length==0){\r\n            return arrObj;\r\n        }\r\n        var arr=[];\r\n        var codeArr=[];\r\n        var codeIndex=0;\r\n        for(var i=0;i<other.length;i++){\r\n            if(codeArr.indexOf(other[i].competitionCode)==-1){\r\n                codeArr.push(other[i].competitionCode);\r\n            }\r\n            codeIndex = codeArr.indexOf(other[i].competitionCode);\r\n            arr[codeIndex]?arr[codeIndex].push(other[i]):arr[codeIndex]=[other[i]];\r\n        }\r\n        arrObj.other = arr;\r\n        return arrObj;\r\n    }\r\n    function initAllMatchEvent(){\r\n        //点击 英雄 战队 选手 其他 切换\r\n        $('.quizList .game-guesting').on(\"click\",\".new_play .list li\",function(e){\r\n            $(this).addClass(\"active\").siblings().removeClass('active');\r\n            var index = $(this).index();\r\n                $(this).parent().parent().find(\".panel > div\").each(function(i,item){\r\n                    if(i == index){\r\n                        $(this).removeClass(\"hide\");\r\n                    }else{\r\n                        $(this).addClass(\"hide\");\r\n                    }\r\n                });\r\n        });\r\n        //点击 竞猜项\r\n        $('.quizList .game-guesting').on(\"click\",\".new_play .panel .hero_panel .guess_all_list li input\",function (e) {\r\n            var guessCode = $(this).parent().attr(\"data-competitionCode\");\r\n            var matchDetailId = $(this).parent().attr(\"data-matchDetailId\");\r\n            var title = $(this).parent().find(\"span\").text();\r\n            //检测登录\r\n            checkLogin({\r\n                guessCode: guessCode,\r\n                matchDetailId: matchDetailId,\r\n                gameCode:cacheObj.gameCode\r\n            },title,getFullHeroList);\r\n        });\r\n        $('.quizList .game-guesting').on(\"click\",\".new_play .panel .team_panel .guess_all_list li input\",function (e) {\r\n            var guessCode = $(this).parent().attr(\"data-competitionCode\");\r\n            var matchDetailId = $(this).parent().attr(\"data-matchDetailId\");\r\n            var title = $(this).parent().find(\"span\").text();\r\n            //检测登录\r\n            checkLogin({\r\n                guessCode: guessCode,\r\n                matchDetailId: matchDetailId,\r\n                gameCode:cacheObj.gameCode\r\n            },title,getFullTeamList);\r\n        });\r\n        $('.quizList .game-guesting').on(\"click\",\".new_play .panel .player_panel .guess_all_list li input\",function (e) {\r\n            var guessCode = $(this).parent().attr(\"data-competitionCode\");\r\n            var matchDetailId = $(this).parent().attr(\"data-matchDetailId\");\r\n            var title = $(this).parent().find(\"span\").text();\r\n            //检测登录\r\n            checkLogin({\r\n                guessCode: guessCode,\r\n                matchDetailId: matchDetailId,\r\n                gameCode:cacheObj.gameCode\r\n            },title,getFullPlayerList);\r\n        });\r\n        function checkLogin(obj,title,callBack){\r\n            moudle.cookieServer('api/user/has-login', '', function (data) {\r\n                //请求赔率\r\n                if(data.status!=200){\r\n                    showPlantFormLogin();\r\n                    return;\r\n                }\r\n                callBack(obj,title)\r\n            });\r\n        }\r\n        function getFullPlayerList(obj,title) {\r\n            //full-player-list\r\n            moudle.cookieServer('api/competition/full-player-list',\r\n                obj,\r\n                function (data) {\r\n                    data.title=title;\r\n                    data.gameCode =  cacheObj.gameCode;\r\n                    var item;\r\n                    for(var i = 0;i<data.data.length;i++){\r\n                        item = data.data[i];\r\n                    }\r\n                    $('.popup-all-match').html(template('new_player_popup_player', data));\r\n                    $('.popup-all-match,.mask').show();\r\n                });\r\n        }\r\n        function getFullTeamList(obj,title){\r\n            moudle.cookieServer('api/competition/full-team-list',\r\n                obj,\r\n                function (data) {\r\n                    data.title=title;\r\n                    data.gameCode =  cacheObj.gameCode;\r\n                    var item;\r\n                    for(var i = 0;i<data.data.length;i++){\r\n                        item = data.data[i];\r\n                    }\r\n                    $('.popup-all-match').html(template('new_player_popup_team', data));\r\n                    $('.popup-all-match,.mask').show();\r\n                });\r\n\r\n        }\r\n        function getFullHeroList(obj,title) {\r\n            moudle.cookieServer('api/competition/full-hero-list',\r\n                obj,\r\n                function (data) {\r\n                    data.title=title;\r\n                    data.gameCode =  cacheObj.gameCode;\r\n                    var item;\r\n                    for(var i = 0;i<data.data.length;i++){\r\n                        item = data.data[i];\r\n                        if(data.gameCode=='lol'){\r\n                            item.icon = lol_img(item.icon);\r\n                        }else{\r\n                            item.icon = dota_img(item.icon);\r\n                        }\r\n                    }\r\n                    $('.popup-all-match').html(template('new_player_popup_hero', data));\r\n                    $('.popup-all-match,.mask').show();\r\n                });\r\n        }\r\n        //选择英雄\r\n        $('.guessPage').on('click', '.popup-all-match .select_popup li', function () {\r\n            $(this).addClass('active').siblings().removeClass('active');\r\n            var playerImg = $(this).attr('data-playerImg'),\r\n                odds = $(this).attr('data-odds'),\r\n                playerName = $(this).attr('data-playerName'),\r\n                competitionId = $(this).attr('data-competitionId');\r\n            $('.popup-all-match .chooseplayer img').attr('src', playerImg);\r\n            $('.popup-all-match .chooseplayer').attr('data-competitionid', competitionId);\r\n            $('.popup-all-match .chooseplayer p').html(playerName);\r\n            $('.popup-all-match .compensate span').html(odds);\r\n            // calProfit();\r\n        });\r\n        //计算 收益\r\n        $('.guessPage').on('keyup', '.popup-all-match .bet_limit input', function () {\r\n            shouyi($(this),$(this).parent().parent().find(\".compensate span\"),$(this).parent().parent().find(\".income span\"));\r\n        });\r\n        //点击 关闭\r\n        $('.guessPage').on('click', '.popup-all-match .close', function () {\r\n            $('body').css('overflow-y', 'scroll');\r\n            $('.popup-all-match,.mask').hide();\r\n            $('.popup-all-match').empty();\r\n        });\r\n        //全系列赛 投注\r\n        $('.guessPage').on('click', '.popup-all-match .betBtn', function () {\r\n            var competitionid ;\r\n            var betCount = $('.popup-all-match .bet_limit input').val();\r\n            competitionid = $(this).parent().parent().parent().find(\".left_popup .head .chooseplayer\").attr(\"data-competitionid\");\r\n            if (!betCount) {\r\n                Util.popup.show(\"请输入投注金币\");\r\n            } else if (betCount < 10) {\r\n                Util.popup.show(\"最少投注10金币\");\r\n            } else {\r\n                moudle.cookieServer('/api/bet/save', {\r\n                    competitionId: competitionid,\r\n                    money: betCount,\r\n                    gameCode: cacheObj.gameCode,\r\n                    channel: 'P00001'\r\n                }, function (data) {\r\n                    if (data.status == 200) {\r\n                        Util.popup.show(\"投注成功\");\r\n                        moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                            $('.popup_old .balance span').html(data.data);\r\n                        })\r\n                    } else {\r\n                        Util.popup.show(data.msg);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        //其他 竞猜 投注\r\n        $('.guessPage').on('click', '.bet_all .popup_bet .betBtn', function () {\r\n            //.bet_all .popup_bet .betCoin\r\n            var competitionid ;\r\n            var betCount = $(this).parent().parent().find('.betCount .betCoin').val();\r\n                //$('.popup-all-match .bet_limit input').val();\r\n            var competitionid = $(this).attr(\"data-id\");\r\n            if (!betCount) {\r\n                Util.popup.show(\"请输入投注金币\");\r\n            } else if (betCount < 10) {\r\n                Util.popup.show(\"最少投注10金币\");\r\n            } else {\r\n                moudle.cookieServer('/api/bet/save', {\r\n                    competitionId: competitionid,\r\n                    money: betCount,\r\n                    gameCode: cacheObj.gameCode,\r\n                    channel: 'P00001'\r\n                }, function (data) {\r\n                    if (data.status == 200) {\r\n                        Util.popup.show(\"投注成功\");\r\n                        moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                            $('.popup_old .balance span').html(data.data);\r\n                        })\r\n                    } else {\r\n                        Util.popup.show(data.msg);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        //点击 其他 竞猜项\r\n        $('.quizList .game-guesting').on(\"click\",\".new_play .panel .other_panel .ratio .ratio-list\",function (e) {\r\n            var guessCode = $(this).attr(\"data-competitionId\");\r\n            var matchDetailId = $(this).attr(\"data-matchDetailId\");\r\n            var title = \"xxxxxx\";\r\n            log(guessCode,matchDetailId,title);\r\n            var competitionId = $(this).attr('data-competitionId'),\r\n                // _matchVsScore = $(this).parent().parent().parent().parent().parent().parent(),\r\n                top_title = $(this).parent().parent().find('.top_title').html(),\r\n                // first_play = $(this).parent().parent().parent().parent().find('.first_play').html(),\r\n                betItem = $(this).find('.betItem').html(),\r\n                betbilv = $(this).find('.betbilv').html(),\r\n                title = $(this).attr(\"data-matchName\"),\r\n                str =  title + '  |  全系列赛' +top_title+ ' ' + betItem+'@'+betbilv;\r\n            log(str);\r\n            var betObj={};\r\n            betObj.data={};\r\n            betObj.data.gameName=cacheObj.gameName;\r\n            betObj.data.gameCode=cacheObj.gameCode;\r\n            betObj.data.matchName = title;\r\n            betObj.data.topTitle = top_title;\r\n            betObj.data.betItem = betItem;\r\n            betObj.data.odds = betbilv;\r\n            betObj.data.competitionId = competitionId;\r\n            moudle.cookieServer('api/user/has-login', '', function (data) {\r\n                if (data.status == 200) {\r\n                    $('.bet_all').html(template('bet_all_other',betObj));\r\n                    $(\".mask\").show();\r\n                    $(\".bet_all .popup_bet\").show();\r\n                    $(\".bet_all .popup_bet\").animate({top: \"27%\"}, 300);\r\n                    moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                        log(data);\r\n                        // $('.popup_old .balance span').html(data.data);\r\n                    })\r\n                } else {\r\n                    showPlantFormLogin();\r\n                }\r\n            });\r\n            return;\r\n            // //检测登录\r\n            // checkLogin({\r\n            //     guessCode: guessCode,\r\n            //     matchDetailId: matchDetailId,\r\n            //     gameCode:cacheObj.gameCode\r\n            // },title,getFullPlayerList);\r\n        });\r\n        //其他 竞猜 投注 计算 收益\r\n        $('.guessPage').on('keyup','.bet_all .popup_bet .betCoin', function () {\r\n            log(\"keykeykey\")\r\n            var peilv = $(this).parent().parent().find(\".bet_des .odds\");\r\n            var shouy = $(this).parent().parent().find(\".bet_des .pre-win\");\r\n            shouyi($(this),peilv,shouy);\r\n        });\r\n\r\n    }\r\n    function freshCoin(selector,callBack){\r\n        moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n            if(selector){\r\n                $(selector).html(data.data);\r\n            }\r\n            if(callBack){\r\n                callBack.apply(null,data.data);\r\n            }\r\n        })\r\n    }\r\n    // 计算 收益\r\n    function shouyi(shuru,peilu,shouyi){\r\n        if(shuru.val()){\r\n            log(peilu.text())\r\n            var profit = Number(peilu.text()) * Number(shuru.val());\r\n            shouyi.html(profit.toFixed(2))\r\n        }\r\n    }\r\n\r\n    function logOut() {\r\n        ///api/user/logout\r\n        moudle.cookieServer('/api/user/logout', '', function () {\r\n            clearAllCookie();\r\n            var data = {\r\n                status: 300\r\n            }\r\n            $('.headTop').html(template('headTop', data));\r\n        })\r\n    }\r\n    //delete all cookie\r\n    function clearAllCookie(){\r\n        var lyy=['user_lyy_com','regTime_lyy_com']\r\n        var keys = document.cookie.match(/[^ =;]+(?=\\=)/g);\r\n        var rootDomain=\"\";\r\n        rootDomain = document.domain.replace(/(.*)\\.(\\w+\\.com)/,\"$2\");\r\n        if(keys) {\r\n            for(var i = keys.length; i--;){\r\n                if(lyy.indexOf(keys[i])!=-1){\r\n                    document.cookie = keys[i] + '=0;domain='+rootDomain+';expires=' + new Date(0).toUTCString();\r\n                }else{\r\n                    document.cookie = keys[i] + '=0;expires=' + new Date(0).toUTCString();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function getPlantFormId() {\r\n        //get plartform id\r\n        moudle.cookieServer('api/common/getPlatformId','',function(data){\r\n            cacheObj.platformId = data.data;\r\n        })\r\n    }\r\n\r\n    //get user information\r\n    function loginStatus(){\r\n        var message = {data: {}};\r\n        moudle.cookieServer('api/user/info','',function(data1){\r\n            message.data[0] = data1;\r\n            $('.headTop').html(template('headTop',message));\r\n            if(data1.status !== 200){\r\n                return;\r\n            }else{\r\n                moudle.cookieServer('api/sign/has-sign-today','',function(data2){\r\n                    message.data[1] = data2;\r\n                    $('.headTop').html(template('headTop',message));\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    //------------new js-------------------\r\n\r\n    function loadNewGame(){\r\n        moudle.ajax({\r\n            url: '/api/match/guessing',\r\n            type: 'POST',\r\n            data: {\r\n                gameCode: cacheObj.gameCode,\r\n                pageIndex: 1,\r\n                pageSize: 3,\r\n                bGameIds: '',\r\n                roundType: 1\r\n            }\r\n        }, function (data) {\r\n            renderPage(data);\r\n        });\r\n    }\r\n    function dataDeal(data) {\r\n        $.each(data.data.matchList, function (i, item) {\r\n            var detail = [];\r\n            $.each(data.data.matchDetailList, function (i, itemDetail) {\r\n                var bMatchId = itemDetail.bMatchId,\r\n                    matchDetailId = itemDetail.matchDetailId,\r\n                    this_fun = [],\r\n                    obj = {},\r\n                    newArray = [];\r\n                if (bMatchId == item.bMatchId) {\r\n                    itemDetail.teamALogo = item.teamALogo;\r\n                    itemDetail.teamBLogo = item.teamBLogo;\r\n                    itemDetail.teamAName = item.teamAName;\r\n                    itemDetail.teamBName = item.teamBName;\r\n                    itemDetail.scoreA =item.scoreA;\r\n                    itemDetail.scoreB =item.scoreB;\r\n                    detail.push(itemDetail)\r\n                }\r\n                $.each(data.data.funCompetitionList, function (i, fun) {\r\n                    if (fun.matchDetailId == matchDetailId) {\r\n                        this_fun.push(fun)\r\n                    }\r\n                });\r\n                itemDetail.fun = this_fun;\r\n                $.each(itemDetail.fun, function (i, item) {\r\n                    if (item.competitionObject == 4) {\r\n                        if (!obj[item.competitionCode]) {\r\n                            obj[item.competitionCode] = [];\r\n\r\n                        }\r\n                        obj[item.competitionCode].push(item)\r\n                    }\r\n                });\r\n                for (var i in obj) {\r\n                    newArray.push(obj[i]);\r\n                }\r\n                itemDetail.otherGuess = newArray;\r\n            });\r\n            item.matchDetail = detail;\r\n        });\r\n        log(data);\r\n        return data;\r\n    }\r\n\r\n    function initNewEvent() {\r\n        //选手竞猜和其他竞猜切换\r\n        $('.guessPage').on('click', '.select-title span', function () {\r\n            $(this).addClass('active').siblings().removeClass('active');\r\n            if ($(this).hasClass('title-players')) {\r\n                $(this).parent().parent().find('.players').show().find('.intro').html('选手竞猜');\r\n                $(this).parent().parent().find('.others').hide();\r\n            } else {\r\n                $(this).parent().parent().find('.others').show().find('.intro').html('其他玩法');\r\n                $(this).parent().parent().find('.players').hide();\r\n            }\r\n        });\r\n        //新 队员弹窗-打开\r\n        $('.guessPage').on('click', '.new_play .guess_list li input', function () {\r\n            var guessCode = $(this).parent().attr('data-competitionCode'),\r\n                matchDetailId = $(this).parent().attr('data-matchDetailId'),\r\n                guessItemName = $(this).siblings('span').html();\r\n            // freshCoin(null,function(coinNum){})\r\n            moudle.cookieServer('api/user/has-login', '', function (data) {\r\n                if (data.status == 200) {\r\n                    $('body').css('overflow-y', 'hidden');\r\n                    moudle.ajax({\r\n                        url: '/api/competition/single-player-list',\r\n                        type: 'POST',\r\n                        data: {\r\n                            guessCode: guessCode,\r\n                            matchDetailId: matchDetailId\r\n                        }\r\n                    }, function (data) {\r\n                        $('.popup-teammember').html(template('popup-teammember', data));\r\n                        $('.popup-teammember .title').html(guessItemName);\r\n                        $('.popup-teammember,.mask').show();\r\n                        moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                            $('.popup-teammember .balance span').html(data.data);\r\n                        })\r\n                    });\r\n                } else {\r\n                    showPlantFormLogin();\r\n                }\r\n            })\r\n        });\r\n\r\n        //新 队员弹窗-关闭\r\n        $('.guessPage').on('click', ' .popup-teammember .close', function () {\r\n            $('body').css('overflow-y', 'scroll');\r\n            $('.popup-teammember,.mask').hide();\r\n        });\r\n        //新 队员弹窗-队员筛选\r\n        $('.guessPage').on('click', '.popup-teammember .select_popup li', function () {\r\n            $(this).addClass('active').siblings().removeClass('active');\r\n            var playerImg = $(this).attr('data-playerImg'),\r\n                odds = $(this).attr('data-odds'),\r\n                competitionid = $(this).attr('data-competitionid'),\r\n                playerName = $(this).attr('data-playerName');\r\n            $('.chooseplayer img').attr('src', playerImg);\r\n            $('.chooseplayer p').html(playerName);\r\n            $('.chooseplayer').attr('data-competitionid', competitionid);\r\n            $('.compensate span').html(odds)\r\n            calProfit();\r\n        });\r\n        //新 隊員弹窗-input金币-赔率变化\r\n        $('.guessPage').on('keyup', '.popup-teammember .bet_limit input', function () {\r\n            calProfit()\r\n        });\r\n\r\n        //新 队员弹窗-投注\r\n        $('.guessPage').on('click', '.popup-teammember .betBtn', function () {\r\n            var competitionid = $('.popup-teammember .chooseplayer').attr('data-competitionid'),\r\n                compensate = $('.popup-teammember .compensate span').html(),\r\n                betCount = $('.bet_limit input').val();\r\n            if (!$('.compensate span').html()) {\r\n                Util.popup.show(\"请选择选手\");\r\n            } else if (!$('.bet_limit input').val()) {\r\n                Util.popup.show(\"请输入投注金币\");\r\n            } else if ($('.bet_limit input').val() < 10) {\r\n                Util.popup.show(\"最少投注10金币\");\r\n            } else {\r\n                moudle.cookieServer('/api/bet/save', {\r\n                    competitionId: competitionid,\r\n                    money: betCount,\r\n                    gameCode: 'lol',\r\n                    channel: 'P00001'\r\n                }, function (data) {\r\n                    if (data.status == 200) {\r\n                        Util.popup.show(\"投注成功\");\r\n                        moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                            $('.popup-teammember .balance span').html(data.data);\r\n                        })\r\n                        moudle.ajax({\r\n                            url: '/api/match/guessing',\r\n                            type: 'POST',\r\n                            data: {\r\n                                gameCode: 'lol',\r\n                                pageIndex: 1,\r\n                                pageSize: 3,\r\n                                bGameIds: '',\r\n                                roundType: 1\r\n                            }\r\n                        }, function (data) {\r\n                            //投注後重新渲染\r\n                            renderPage(data);\r\n                        });\r\n                    } else {\r\n                        Util.popup.show(data.msg);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        //竞猜中 -已结束-玩法介绍tab切换\r\n        $('.guessPage').on('click', '.guessStateTab a', function () {\r\n            // $(this).addClass('active').siblings().removeClass('active');\r\n            // if ($(this).hasClass('gsing')) {\r\n            //     $('.game-guesting').addClass('active');\r\n            //     $('.guessEnd,.game-rule').removeClass('active');\r\n            // } else if ($(this).hasClass('gsend')) {\r\n            //     $('.game-end').addClass('active');\r\n            //     $('.game-guesting,.game-rule').removeClass('active');\r\n            // } else {\r\n            //     $('.game-rule').addClass('active');\r\n            //     $('.game-guesting,.game-end').removeClass('active');\r\n            // }\r\n        });\r\n\r\n        //玩法介绍 ？ 跳转\r\n        $('.guessPage').on('click', '.icon_intro', function () {\r\n            $('.gsrule').addClass('active').siblings().removeClass('active');\r\n            $('.game-rule').addClass('active');\r\n            $('body').scrollTop(0);\r\n            $('.game-guesting,.game-end').removeClass('active');\r\n        });\r\n        //新 其他玩法弹窗-旧弹窗-打开\r\n        $('.guessPage').on('click', '.new_play .guess-list .ratio-list', function () {\r\n            var competitionId = $(this).attr('data-competitionId'),\r\n                _matchVsScore = $(this).parent().parent().parent().parent().parent().parent(),\r\n                top_title = $(this).parent().parent().find('.top_title').html(),\r\n                first_play = $(this).parent().parent().parent().parent().find('.first_play').html(),\r\n                betItem = $(this).find('.betItem').html(),\r\n                betbilv = $(this).find('.betbilv').html(),\r\n                title = _matchVsScore.find('.matchTitle').html(),\r\n                str = _matchVsScore.attr('data-gameName') + '  ' + title + '  |  ' + _matchVsScore.attr('data-teamAName') + '  VS  ' + _matchVsScore.attr('data-teamBName') + ' ' + first_play;\r\n            moudle.cookieServer('api/user/has-login', '', function (data) {\r\n                if (data.status == 200) {\r\n                    $('.popup_old .betMatch').html(str).attr('data-competitionId', competitionId);\r\n                    $('.popup_old .betObject .betItem').html(top_title + ' ' + betItem);\r\n                    $('.popup_old .betbilv').html(betbilv);\r\n                    $(\".popup_old\").animate({top: \"27%\"}, 300);\r\n                    $(\".popup_old,.mask\").show();\r\n                    moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                        $('.popup_old .balance span').html(data.data);\r\n                    })\r\n                } else {\r\n                    showPlantFormLogin();\r\n                }\r\n            });\r\n        });\r\n        //新 其他玩法弹窗-旧弹窗-input金币-赔率变化\r\n        $('.guessPage').on('keyup', '.popup_old .betCoin', function () {\r\n            log(\"kkkkup\");\r\n            var benfit = $(this).val() * $('.betbilv').html();\r\n            $('.popup_old .canwin').html(benfit.toFixed(2));\r\n        });\r\n\r\n        //新 其他玩法弹窗-旧弹窗-投注\r\n        $('.guessPage').on('click', '.popup_old .betBtn', function () {\r\n            log(\"bet bet\");\r\n            var competitionid = $('.popup_old .betMatch').attr('data-competitionid'),\r\n                betCount = $('.popup_old .betCoin').val();\r\n            if (!betCount) {\r\n                Util.popup.show(\"请输入投注金币\");\r\n            } else if (betCount < 10) {\r\n                Util.popup.show(\"最少投注10金币\");\r\n            } else {\r\n                moudle.cookieServer('/api/bet/save', {\r\n                    competitionId: competitionid,\r\n                    money: betCount,\r\n                    gameCode: 'lol',\r\n                    channel: 'P00001'\r\n                }, function (data) {\r\n                    if (data.status == 200) {\r\n                        Util.popup.show(\"投注成功\");\r\n                        moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                            $('.popup_old .balance span').html(data.data);\r\n                        })\r\n                        moudle.ajax({\r\n                            url: '/api/match/guessing',\r\n                            type: 'POST',\r\n                            data: {\r\n                                gameCode: 'lol',\r\n                                pageIndex: 1,\r\n                                pageSize: 3,\r\n                                bGameIds: '',\r\n                                roundType: 1\r\n                            }\r\n                        }, function (data) {\r\n                            //投注後重新渲染\r\n                            renderPage(data);\r\n                        });\r\n                    } else {\r\n                        Util.popup.show(data.msg);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        //新 其他玩法弹窗-旧弹窗-关闭\r\n        $('.guessPage').on('click', '.popup_old .closePopup', function () {\r\n            // .closePopup\r\n            log(\"xxxxxxxxxxxx555555555555555\");\r\n            $(\".guess_box li a\").removeClass(\"active\");\r\n            $(\".popup_old\").animate({top: \"106%\"}, 300, function () {\r\n                $(this).css(\"top\", \"-57%\");\r\n                $(\".popup_old\").hide();\r\n            });\r\n            $(\".mask\").hide();\r\n            $(\"input.betCoin\").val(\"\");\r\n        });\r\n        log(\"---0-0-0-0-0-\");\r\n        //新 总局弹窗-打开\r\n        $('.guessPage').on('click', '.game-guesting .bet input', function () {\r\n            log(\"-------------------------\")\r\n            var _matchVsScore = $(this).parent().parent().parent().parent(),\r\n                title = _matchVsScore.find('.matchTitle').html(),\r\n                competitionId = $(this).parent().attr('data-competitionId'),\r\n                all_prize = $(this).parent().siblings('.bet_detail').find('span').html(),\r\n                teamName = $(this).siblings('.teamName').html(),\r\n                str = _matchVsScore.attr('data-gameName') + '  ' + title + '  |  ' + _matchVsScore.attr('data-teamAName') + '  VS  ' + _matchVsScore.attr('data-teamBName') + '  总局';\r\n            moudle.cookieServer('api/user/has-login', '', function (data) {\r\n                if (data.status == 200) {\r\n                    $('body').css('overflow-y', 'hidden');\r\n                    $('.popup_bet_new .betMatch').html(str).attr('data-competitionId', competitionId);\r\n                    $('.popup_bet_new .betWin span').html(teamName);\r\n                    $('.popup_bet_new .betObject span').html(all_prize);\r\n                    $('.popup_bet_new,.mask').show();\r\n                    moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                        $('.popup_bet_new .balance span').html(data.data);\r\n                    })\r\n                } else {\r\n                    showPlantFormLogin();\r\n                }\r\n            });\r\n        });\r\n        //新 总局弹窗-关闭\r\n        $('.guessPage').on('click', '.popup_bet_new .closePopup', function () {\r\n            $('body').css('overflow-y', 'scroll');\r\n            $('.popup_bet_new,.mask').hide();\r\n        });\r\n        //新 总局弹窗-投注\r\n        $('.guessPage').on('click', '.popup_bet_new .betBtn', function () {\r\n            var competitionid = $('.popup_bet_new .betMatch').attr('data-competitionid'),\r\n                betCount = $('.popup_bet_new .betCoin').val();\r\n            if (!betCount) {\r\n                Util.popup.show(\"请输入投注金币\");\r\n            } else if (betCount < 10) {\r\n                Util.popup.show(\"最少投注10金币\");\r\n            } else {\r\n                moudle.cookieServer('/api/bet/save', {\r\n                    competitionId: competitionid,\r\n                    money: betCount,\r\n                    gameCode: 'lol',\r\n                    channel: 'P00001'\r\n                }, function (data) {\r\n                    if (data.status == 200) {\r\n                        Util.popup.show(\"投注成功\");\r\n                        moudle.cookieServer('api/user-center/get-account-sum', '', function (data) {\r\n                            $('.popup_bet_new .balance span').html(data.data);\r\n                        });\r\n                        moudle.ajax({\r\n                            url: '/api/match/guessing',\r\n                            type: 'POST',\r\n                            data: {\r\n                                gameCode: 'lol',\r\n                                pageIndex: 1,\r\n                                pageSize: 3,\r\n                                bGameIds: '',\r\n                                roundType: 1\r\n                            }\r\n                        }, function (data) {\r\n                            //投注後重新渲染\r\n                            renderPage(data);\r\n                            var all_prize = $('.new_play .bet input').parent().siblings('.bet_detail').find('span').html();\r\n                            $('.popup_bet_new .betObject span').html(all_prize);\r\n                        });\r\n                    } else {\r\n                        Util.popup.show(data.msg);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        //用户登陆\r\n        $(\".guessPage\").on(\"click\", \".exitLogin\", logOut);\r\n        //用户退出\r\n        $(\".guessPage\").on(\"click\", \".loginBtn\", showPlantFormLogin);\r\n        //新 多選手彈窗-打開\r\n        $('.guessPage').on('click', '.playerName i', function () {\r\n            $('.popup_mutiplayers').show();\r\n            $('.popup_mutiplayers .header .title').html($(this).parent().next().html());\r\n        });\r\n        //新 多選手彈窗-關閉\r\n        $('.guessPage').on('click', '.popup_mutiplayers .closePopup', function () {\r\n            $('.popup_mutiplayers').hide();\r\n        });\r\n\r\n        //\r\n        // $('.guessPage').on('click', '.guess-list', function () {\r\n        //     $(\".popup_bet\").show();\r\n        //     $(\".popup_bet\").animate({top: \"27%\"}, 300);\r\n        //     $(\".mask\").show();\r\n        // });\r\n        // $('.guessPage').on('click', '.popup_old .closePopup', function () {\r\n        //     $(\".guess_box li a\").removeClass(\"active\");\r\n        //     $(\".popup_bet\").animate({top: \"106%\"}, 300, function () {\r\n        //         $(this).css(\"top\", \"-57%\");\r\n        //         $(\".popup_bet\").hide();\r\n        //     });\r\n        //     $(\".mask\").hide();\r\n        //     $(\"input.betCoin\").val(\"\");\r\n        // });\r\n        // $('.guessPage').on('click', '.popup-teammember .select_popup li', function () {\r\n        //     $(this).addClass('active').siblings().removeClass('active');\r\n        //     var playerImg = $(this).attr('data-playerImg'),\r\n        //         odds = $(this).attr('data-odds'),\r\n        //         playerName = $(this).attr('data-playerName');\r\n        //     $('.chooseplayer img').attr('src', playerImg);\r\n        //     $('.chooseplayer p').html(playerName);\r\n        //     $('.compensate span').html(odds)\r\n        //     calProfit();\r\n        // });\r\n        // //原始 新玩法弹窗\r\n        // $('.guessPage').on('click', '.bet input', function () {\r\n        //     var _matchVsScore = $(this).parent().parent().parent().siblings('.matchVsScore');\r\n        //     var all_prize = $(this).parent().siblings('.bet_detail').find('span').html();\r\n        //     var teamName = $(this).siblings('.teamName').html();\r\n        //     var str = _matchVsScore.attr('data-gameName') + '  ' + _matchVsScore.find('.matchTitle').html() + '  |  ' + _matchVsScore.attr('data-teamAName') + '  VS  ' + _matchVsScore.attr('data-teamBName') + '  总局';\r\n        //     $('body').css('overflow-y', 'hidden');\r\n        //     $('.popup_bet_new .betMatch').html(str);\r\n        //     $('.popup_bet_new .betWin span').html(teamName);\r\n        //     $('.popup_bet_new .betObject span').html(all_prize);\r\n        //     $('.popup_bet_new,.mask').show();\r\n        // });\r\n        // $('.guessPage').on('click', '.popup_bet_new .closePopup', function () {\r\n        //     $('body').css('overflow-y', 'scroll');\r\n        //\r\n        //     $('.popup_bet_new,.mask').hide();\r\n        // });\r\n        // $('.guessPage').on('keyup', '.popup-teammember .bet_limit input', function () {\r\n        //     calProfit()\r\n        // });\r\n    }\r\n\r\n    function refactorGuessEndData(data) {\r\n        var matchDetailList = data.data.matchDetailList,\r\n            funCompList = data.data.funCompetitionList,\r\n            funCompJSON = {},\r\n            matchDetailJSON = {},\r\n            funComp,\r\n            matchDetail,\r\n            funSingleVO;\r\n\r\n        for (var i = 0; i < matchDetailList.length; i++) {\r\n            matchDetail = matchDetailList[i];\r\n            matchDetailJSON[matchDetail.matchDetailId] = matchDetail;\r\n        }\r\n\r\n        for (var i = 0; i < funCompList.length; i++) {\r\n            funComp = funCompList[i];\r\n            funCompJSON[funComp.competitionCode + funComp.matchDetailId] = funComp;\r\n        }\r\n        for (var i = 0; i < matchDetailList.length; i++) {\r\n            matchDetail = matchDetailList[i];\r\n            funSingleVO = matchDetail.funSingleVO;\r\n\r\n            if (!matchDetail.funSingleVO) {\r\n                continue;\r\n            }\r\n\r\n            // 本局比赛中的MVP\r\n            funComp = funCompJSON['DMVP' + matchDetail.matchDetailId];\r\n            if (funComp) {\r\n                funComp.value = [funSingleVO.mvp];\r\n            }\r\n\r\n            // 死亡次数最多的选手\r\n            funComp = funCompJSON['DDMP' + matchDetail.matchDetailId];\r\n            if (funComp) {\r\n                funComp.value = funSingleVO.maxDeathTimesPlayerList;\r\n            }\r\n\r\n            // 击杀次数最多的选手\r\n            funComp = funCompJSON['DKMP' + matchDetail.matchDetailId];\r\n            if (funComp) {\r\n                funComp.value = funSingleVO.maxKillTimesPlayerList;\r\n            }\r\n\r\n            // 输出最多的选手\r\n            funComp = funCompJSON['DSMP' + matchDetail.matchDetailId];\r\n            if (funComp) {\r\n                funComp.value = funSingleVO.maxHurtPlayerList;\r\n            }\r\n\r\n            // 打钱最多的选手\r\n            funComp = funCompJSON['DMMP' + matchDetail.matchDetailId];\r\n            if (funComp) {\r\n                funComp.value = funSingleVO.maxMoneyPlayerList;\r\n            }\r\n\r\n            // 三路中哪路最先被破\r\n            funComp = funCompJSON['DMW' + matchDetail.matchDetailId];\r\n            if (funComp) {\r\n                funComp.value = funSingleVO.breakPosition;\r\n            }\r\n\r\n            // 本局出现的最高连杀\r\n            funComp = funCompJSON['DMCK' + matchDetail.matchDetailId];\r\n            if (funComp) {\r\n                funComp.value = funSingleVO.maxComboKill;\r\n            }\r\n\r\n            // 本局出现的最高连杀\r\n            funComp = funCompJSON['DTIME' + matchDetail.matchDetailId];\r\n            if (funComp) {\r\n                funComp.matchTime1 = funSingleVO.matchTime1;\r\n                funComp.matchTime2 = funSingleVO.matchTime2;\r\n            }\r\n\r\n            // 奖金池，数据重组\r\n            funComp = funCompJSON['ZSW' + matchDetail.matchDetailId];\r\n            if (funComp && matchDetail.funSingleVO.bonusPool) {\r\n                funComp.bonusPool = matchDetail.funSingleVO.bonusPool.bonusPoolA;\r\n                funComp.teamId = matchDetail.teamAId;\r\n\r\n                var funCompOther = $.extend({}, funComp);\r\n                funCompOther.bonusPool = matchDetail.funSingleVO.bonusPool.bonusPoolB;\r\n                funCompOther.teamId = matchDetail.teamBId;\r\n\r\n                funCompList.push(funCompOther);\r\n            }\r\n        }\r\n        return data\r\n    }\r\n\r\n    function calProfit(inputVal) {\r\n        if (($('.compensate span').html() && $('.bet_limit input').val())) {\r\n            var profit = $('.compensate span').html() * $('.bet_limit input').val();\r\n            $('.popup-teammember .income span').html(profit.toFixed(2))\r\n        }\r\n    }\r\n    //判断是否是IE\r\n    function isIE() {\r\n        var ua = window.navigator.userAgent.toLowerCase();\r\n        var isIe = false;\r\n        if (ua.indexOf(\"msie\") > -1 || ua.indexOf(\".net\") > -1) {\r\n            isIe = true;\r\n        }\r\n        return isIe;\r\n    }\r\n\r\n    function renderPage(data) {\r\n        // $('.quizList .game-guesting').empty();\r\n        handleData(data);\r\n        dataDeal(data);\r\n        $('.quizList .game-guesting').append(template('new_play', data));\r\n        if(cacheObj.gameCode == \"ow\" || cacheObj.gameCode == \"cf\"){\r\n            $('.quizList .game-guesting').append(template('guess',data.data));\r\n        }else{\r\n            $('.quizList .game-guesting').append(template('quizItem',data.data));\r\n        }\r\n    }\r\n});"]}