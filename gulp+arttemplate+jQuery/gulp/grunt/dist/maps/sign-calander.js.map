{"version":3,"sources":["sign-calander.js"],"names":["$","methods","init","options","o","extend","year","month","gou","moudle","urlConfig","url","self","this","addClass","data","_draw","call","test","opt","gety","html","append","statr","end","i","find","date","Date","dd","getDay","getDate","each","index","item","start","hasDraw","setCoin","coin","arr","length","remove","fn","signCalander","method","charAt","apply","Array","prototype","slice","arguments","error","jQuery"],"mappings":"CAGA,SAAWA,GAEP,GAAIC,IACAC,KAAM,SAAUC,GACZ,GAAIC,GAAIJ,EAAEK,QACNC,KAAM,EACNC,OAAQ,EACRC,IAAKC,OAAOC,UAAUC,IAAM,sBAC7BR,OACCS,EAAOC,IAGX,OAFAD,GAAKE,SAAS,iBAAiBC,KAAK,KAAMX,GAC1CH,EAAQe,MAAMC,KAAKL,GACZA,GAEXM,KAAM,SAAUC,GAEZ,MAAON,OAEXO,KAAM,WAGF,MAAOP,MAAKE,KAAK,MAAMT,MAE3BU,MAAO,WACH,GAAIZ,GAAIS,KAAKE,KAAK,MACdH,EAAOC,IAEXA,MAAKQ,KAAK,IACVR,KAAKS,OACD,qIAWJT,KAAKS,OAAO,2BAIZ,KAAK,GAHDC,GAAQ,EACRC,EAAM,EAEDC,EAAI,EAAGA,EAAI,GAAIA,IACpBb,EAAKc,KAAK,SAASJ,OAAO,UAG9B,IAAIK,GAAO,GAAIC,MAAKxB,EAAEE,KAAMF,EAAEG,MAAO,GACjCsB,EAAK,GAAID,MAAKxB,EAAEE,KAAMF,EAAEG,MAAQ,EAAG,EAIvC,IAHAgB,EAAQI,EAAKG,UACbN,EAAMD,EAAQM,EAAGE,WAEP,GACN,IAAK,GAAIN,GAAI,EAAGA,EAAI,EAAGA,IACnBb,EAAKc,KAAK,SAASJ,OAAO,UAIlCV,GAAKc,KAAK,SAASA,KAAK,KAAKM,KAAK,SAAUC,EAAOC,GAC3CD,GAASV,GAASU,EAAQT,GAC1BxB,EAAEkC,GAAMb,KAAK,wBAA4BY,EAAQV,EAAQ,GAAK,yBAAkCnB,EAAEG,MAAQ,GAAK,WAIvHH,EAAE+B,MAAQZ,EACVnB,EAAEoB,IAAMA,EACRpB,EAAEgC,SAAU,GAEhBC,QAAS,SAAUV,EAAMW,GACrB,GAAIlC,GAAIS,KAAKE,KAAK,KAElB,IAAS,MAALX,EAAJ,CAIA,GAAIQ,GAAOC,KACP0B,EAAM3B,EAAKc,KAAK,WAChBQ,EAAOlC,EAAEuC,EAAIZ,EAAOvB,EAAE+B,MAAQ,GAG9BD,GAAKR,KAAK,OAAOc,OAAS,IAI9BN,EAAKO,OAAO,cACZP,EAAKZ,OAAO,yBAA2BgB,EAAO,UAG9CJ,EAAKO,OAAO,OACZP,EAAKZ,OAAO,yBAA2BlB,EAAEI,IAAM,SAIvDR,GAAE0C,GAAGC,aAAe,SAAUC,GAE1B,MAAI3C,GAAQ2C,IAA+B,KAApBA,EAAOC,OAAO,GAC1B5C,EAAQ2C,GAAQE,MAAMjC,KAAMkC,MAAMC,UAAUC,MAAMhC,KAAKiC,UAAW,IAChD,gBAAXN,IAAwBA,MAGtC5C,GAAEmD,MAAM,UAAYP,EAAS,wCAFtB3C,EAAQC,KAAK4C,MAAMjC,KAAMqC,aAMzCE","file":"../js/sign-calander.js","sourcesContent":["/**\r\n * Created by Administrator on 2017/3/9.\r\n */\r\n(function ($) {\r\n\r\n    var methods = {\r\n        init: function (options) {\r\n            var o = $.extend({\r\n                year: 0,\r\n                month: -1,\r\n                gou: moudle.urlConfig.url + '/images/ca_gou.png'\r\n            }, options || {});\r\n            var self = this;\r\n            self.addClass(\"sign_calendar\").data('ca', o);\r\n            methods._draw.call(self);\r\n            return self;\r\n        },\r\n        test: function (opt) {\r\n//\t\t\tconsole.log(this.data('ca'));\r\n            return this;\r\n        },\r\n        gety: function () {\r\n//\t\t\tconsole.log(this);\r\n//\t\t\tconsole.log(this.data('ca'));\r\n            return this.data('ca').year;\r\n        },\r\n        _draw: function () {\r\n            var o = this.data('ca');\r\n            var self = this;\r\n            //draw title\r\n            this.html('');\r\n            this.append(\r\n                \"<div class='calendar_title'>\" +\r\n                \"<a class='weekend'>周日</a>\" +\r\n                \"<a>周一</a>\" +\r\n                \"<a>周二</a>\" +\r\n                \"<a>周三</a>\" +\r\n                \"<a>周四</a>\" +\r\n                \"<a>周五</a>\" +\r\n                \"<a class='weekend'>周六</a></div>\"\r\n            );\r\n\r\n            //draw date\r\n            this.append(\"<div class='date'></div>\");\r\n            var statr = 0;\r\n            var end = 0;\r\n\r\n            for (var i = 0; i < 35; i++) {\r\n                self.find(\".date\").append('<a></a>');\r\n            }\r\n\r\n            var date = new Date(o.year, o.month, 1);\r\n            var dd = new Date(o.year, o.month + 1, 0);\r\n            statr = date.getDay();\r\n            end = statr + dd.getDate();\r\n\r\n            if (end > 35) {\r\n                for (var i = 0; i < 7; i++) {\r\n                    self.find(\".date\").append('<a></a>');\r\n                }\r\n            }\r\n\r\n            self.find(\".date\").find(\"a\").each(function (index, item) {\r\n                if (index >= statr && index < end) {\r\n                    $(item).html('<p class=\\\"date_num\\\">' + (index - statr + 1) + '</p>' + '<p class=\\\"month\\\">' + (o.month + 1) + '月</p>');\r\n                }\r\n            });\r\n\r\n            o.start = statr;\r\n            o.end = end;\r\n            o.hasDraw = true;\r\n        },\r\n        setCoin: function (date, coin) {\r\n            var o = this.data('ca');\r\n\r\n            if (o == null) {\r\n                return\r\n            }\r\n\r\n            var self = this;\r\n            var arr = self.find(\".date a\");\r\n            var item = $(arr[date + o.start - 1]);\r\n\r\n            // 避免重复打勾\r\n            if (item.find('img').length > 0) {\r\n                return;\r\n            }\r\n\r\n            item.remove(\".coin_text\");\r\n            item.append(\"<p class='coin_text'>+\" + coin + \"金币</p>\");\r\n\r\n            // gou\r\n            item.remove(\"img\");\r\n            item.append(\"<img class='gou' src='\" + o.gou + \"'>\")\r\n        }\r\n    };\r\n\r\n    $.fn.signCalander = function (method) {\r\n        // Method calling logic\r\n        if (methods[method] && method.charAt(0) != '_') {\r\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        } else if (typeof method === 'object' || !method) {\r\n            return methods.init.apply(this, arguments);\r\n        } else {\r\n            $.error('Method ' + method + ' does not exist on jQuery.pagination');\r\n        }\r\n    };\r\n\r\n})(jQuery);\r\n"]}