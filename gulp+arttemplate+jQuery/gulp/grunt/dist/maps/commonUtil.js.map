{"version":3,"sources":["commonUtil.js"],"names":["Util","$","init","this","scrolltoTop","append","obtn","document","getElementById","clientHeight","documentElement","timer","isTop","window","onscroll","osTop","scrollTop","body","style","display","clearInterval","onclick","setInterval","ispeed","Math","floor","console","log","scrollsTop","callBack","param","scr","isScrolling","distance","Number","screenheight","bodyheight","temp","navigator","userAgent","scrollTo","unbind","lastscroll","scroll","css","then","popup","time","show","html","pointerClose","clearTimeout","find","remove","_this","setTimeout","hide","click","confirm","obj","conYes","conNo","btnsHtml","i","size","btn","length","title","con","index","parent","textUp","id","textupId","mid","textupMid","textIdArr","push","textid","selector","_mid","_step","_id","_selector","step","animate","top","opacity","delay","indexOf","splice","textCurrentId","textUpMax","max","apply","textCurrentMid","jQuery"],"mappings":"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","file":"../js/commonUtil.js","sourcesContent":["/**\r\n * Created by Administrator on 2016/11/30.\r\n */\r\n\r\nvar Util=(function($){\r\n    return {\r\n        init:function(){\r\n            this.scrolltoTop();\r\n        },\r\n        /**\r\n         * 回到顶部\r\n         */\r\n        scrolltoTop:function(){\r\n            $(\"body\").append(\"<a href='javascript:;' class='icon_backTop' id='backTop'></a>\");\r\n\r\n            var obtn=document.getElementById(\"backTop\");\r\n            if(obtn == null){\r\n                return;\r\n            }\r\n            var clientHeight=document.documentElement.clientHeight;\r\n            var timer=null;\r\n            var isTop=true;\r\n            //滚动条滚动式触发\r\n            window.onscroll=function(){\r\n                var osTop=osTop=document.documentElement.scrollTop||document.body.scrollTop;\r\n                if(osTop>=clientHeight){\r\n                    obtn.style.display=\"block\";\r\n                }else{\r\n                    obtn.style.display=\"none\";\r\n                }\r\n                if(!isTop){\r\n                    clearInterval(timer);\r\n                }\r\n                isTop=false;\r\n            }\r\n            obtn.onclick=function(){\r\n                timer=setInterval(function(){\r\n                    var osTop=document.documentElement.scrollTop||document.body.scrollTop;\r\n                    var ispeed=Math.floor(-osTop/3);\r\n                    console.log(ispeed);\r\n                    document.documentElement.scrollTop=document.body.scrollTop=osTop+ispeed;\r\n                    isTop=true;\r\n                    if(osTop==0){\r\n                        clearInterval(timer);\r\n                    }\r\n                },30);\r\n            }\r\n        },\r\n        /**\r\n         * @param distance 滚动条距离底部的距离\r\n         * @param callBack 触动触发后的操作\r\n         */\r\n        scrollsTop:function(callBack,param) {\r\n            var scr = 0,\r\n                isScrolling=false,\r\n                distance=Number(distance),\r\n                //screenheight = window.screen.availHeight,//屏幕的高度\r\n                screenheight=document.documentElement.clientHeight;\r\n            bodyheight = document.body.clientHeight;//内容高\r\n            temp=$(window).scrollTop();\r\n            var userAgent = navigator.userAgent;//取得浏览器的userAgent字符串\r\n            window.scrollTo(0,0);\r\n            $(window).unbind(\"scroll\");\r\n            var lastscroll=0;\r\n            $(window).scroll(function () {\r\n                /******************游戏类型赛事状态吸顶 start *********************/\r\n                var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n                if(scrollTop <= 82){\r\n                    $(\".scroll_box\").css(\"top\",75-scrollTop+\"px\");\r\n                }else{\r\n                    $(\".scroll_box\").css(\"top\",\"-8px\");\r\n                }\r\n                /******************游戏类型赛事状态吸顶 end *********************/\r\n                scr = $(window).scrollTop();\r\n                if(scr<lastscroll){\r\n                    //向上滚动时return\r\n                    lastscroll = scr;\r\n                    return;\r\n                }\r\n                lastscroll = scr;\r\n                if (screenheight + scr > document.body.clientHeight - 20) {//当滚动条滑动到据底部20px时触发\r\n                    //$(window).scrollTop(scr-100);\r\n                    if(isScrolling) return;\r\n                    isScrolling=true;\r\n                    callBack(param).then(function(){\r\n                        isScrolling=false;\r\n                        //console.log(\"data=\"+data.result);\r\n                    });\r\n                    temp=$(window).scrollTop();\r\n                }\r\n            });\r\n        },\r\n        popup:{\r\n            time:null,\r\n            /**\r\n             *\r\n             * @param html 弹框中的内容，可是而是存文本，也可以是html元素\r\n             * @param pointerClose 默认是false,true表示手动关闭\r\n             */\r\n            show:function(html,pointerClose){\r\n                window.clearTimeout(this.time);\r\n                //$(\"body\").css(\"overflow\",\"hidden\");\r\n                $(\"body\").find(\".popup_alert\").remove();\r\n                $(\"body\").find(\".popup_mask\").remove();\r\n                $(\"body\").append('<div class=\"bg popup_mask autoPopup_mask\" onselectstart=\"return false;\" unselectable=\"on\"></div>'+\r\n                    '<div class=\"popup_alert defaultPop\" id=\"popup_alert\">'+\r\n                    '<a class=\"icon_close\" href=\"javascript:;\" data-toggle=\"close\" data-target=\"popup_alert\"></a>'+\r\n                    '<div class=\"popup_con\"><div class=\"detail\">'+html+'</div></div>'+\r\n                    '</div>');\r\n\r\n                var _this=this;\r\n                if(pointerClose) return;\r\n\r\n                this.time=setTimeout(function(){\r\n                    _this.hide();\r\n                },2000);\r\n\r\n                $(\".autoPopup_mask\").unbind(\"click\");\r\n                $(\".autoPopup_mask\").click(function(){\r\n                    _this.hide();\r\n                });\r\n            },\r\n            /**\r\n             * 确认框\r\n             * @param obj {title:\"aaa\",con:\"\",btn:[\"确定\"，\"取消\"]}\r\n             * @param conYes 确定的回调\r\n             * @param conNo  取消的回调\r\n             */\r\n            confirm:function(obj,conYes,conNo){\r\n                if(!obj) return;\r\n                var _this=this,\r\n                    btnsHtml=\"\",\r\n                    poptypeClass=\"\";\r\n\r\n                //$(\"body\").css(\"overflow\",\"hidden\");\r\n                $(\"body\").find(\".popup_alert\").remove();\r\n                $(\"body\").find(\".popup_mask\").remove();\r\n\r\n                //手动关闭\r\n                for(var i= 0,size=obj.btn.length;i<size;i++){\r\n                    btnsHtml+='<div><a href=\"javascript:;\" class=\"js_operateBtn\">'+obj.btn[i]+'</a></div>';\r\n                }\r\n                $(\"body\").append('<div class=\"bg popup_mask\"></div>'+\r\n                    '<div class=\"popup_alert confirmPop\" id=\"popup_alert\">'+\r\n                    '<a class=\"icon_close\" href=\"javascript:;\" data-toggle=\"close\" data-target=\"popup_alert\"></a>'+\r\n                    '<div class=\"popup_header\">'+obj.title+'</div>'+\r\n                    '<div class=\"popup_con\"><div class=\"detail\">'+obj.con+'</div></div>'+\r\n                    '<div class=\"popup_footer\">'+btnsHtml+'</div>'+\r\n                    '</div>');\r\n                //关闭按钮\r\n                $(\".icon_close\").click(function(){\r\n                    _this.hide();\r\n                })\r\n                //执行回调\r\n                $(\".js_operateBtn\").unbind(\"click\");\r\n                $(\".js_operateBtn\").click(function(){\r\n                    var index=$(this).parent(\"div\").index();\r\n                    _this.hide();\r\n                    setTimeout(function(){\r\n                        if(index==0){\r\n                            if(typeof conYes != 'function') return;\r\n                            conYes();\r\n                        }else{\r\n                            if(typeof conNo != 'function') return;\r\n                            conNo();\r\n                        }\r\n                    },200);\r\n                });\r\n            },\r\n            hide:function(){\r\n                //ie8 不兼容连写\r\n                $(\"body\").find(\".popup_alert\").remove();\r\n                $(\"body\").find(\".popup_mask\").remove();\r\n                //$(\"body\").css(\"overflow\",\"auto\");\r\n            },\r\n            textUp:function(html){\r\n                //文本弹出提示\r\n                var id = this.textupId();\r\n                var mid =this.textupMid();//42\r\n                this.textIdArr.push(id);\r\n                var textIdArr = this.textIdArr;\r\n                var textid = 'textupId'+id;\r\n                var selector = \"body .popup_text.\"+textid;\r\n                $(selector).remove();\r\n                $(\"body\").append(\r\n                    '<div class=\"popup_text '+textid+' hide\">'+html+'</div>'\r\n                );\r\n                $(selector).show();\r\n                var step = 2;//2\r\n                (function(_mid,_step,_id,_selector){\r\n                    $(_selector).css(\"top\",(_mid+_step)+\"%\");\r\n                    $(_selector).css(\"opacity\",\"0\");\r\n                    $(_selector).animate({top: _mid+\"%\",opacity: \"1\"}, 400,function(){\r\n                        $(_selector).delay(900).animate({top: (_mid-_step)+\"%\",opacity: \"0\"}, 600,function () {\r\n                            $(_selector).remove();\r\n                            var index = -1;\r\n                            index = textIdArr.indexOf(_id);\r\n                            if(index!=-1){\r\n                                textIdArr.splice(index,1);\r\n                            }\r\n                        });\r\n                    });\r\n                })(mid,step,id,selector);\r\n\r\n                // $(selector).animate({top: \"42%\",opacity: \"1\"}, 400,function(){\r\n                //     $(selector).delay(900).animate({top: \"39.5%\",opacity: \"0\"}, 600,function () {\r\n                //         $(\"body\").find(selector).remove();\r\n                //     });\r\n                // });\r\n            },\r\n            textupId:function(){\r\n                if(this.textIdArr.length==0){\r\n                    this.textCurrentId=1;\r\n                }else if(this.textIdArr.length>=this.textUpMax){\r\n                    this.textCurrentId=this.textIdArr.splice(0,1)[0];\r\n                }else{\r\n                    this.textCurrentId=Math.max.apply(null,this.textIdArr)+1;\r\n                }\r\n                return this.textCurrentId;\r\n            },\r\n            textupMid:function(){\r\n                // console.log(this.textIdArr);\r\n                if(this.textIdArr.length==0)\r\n                {\r\n                    this.textCurrentMid=42;\r\n                }else{\r\n                    this.textCurrentMid+=2;\r\n                }\r\n                return this.textCurrentMid;\r\n            },\r\n            textCurrentId:1,\r\n            textCurrentMid:42,\r\n            textIdArr:[],\r\n            textUpMax:10\r\n        }\r\n    }\r\n\r\n})(jQuery);\r\n\r\nUtil.init();\r\n\r\n"]}