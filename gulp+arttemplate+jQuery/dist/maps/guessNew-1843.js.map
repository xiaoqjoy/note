{"version":3,"sources":["guessNew-1843.js"],"names":["$","dataDeal","data","each","matchList","i","item","detail","matchDetailList","itemDetail","bMatchId","matchDetailId","this_fun","obj","newArray","push","funCompetitionList","fun","competitionObject","competitionCode","otherGuess","teamALogo","teamBLogo","teamAName","teamBName","matchDetail","console","log","calProfit","inputVal","html","val","profit","toFixed","renderPage","template","helper","moudle","formatTime","Date","date","clock","ajax","url","type","gameCode","pageIndex","pageSize","bGameIds","roundType","on","this","addClass","siblings","removeClass","hasClass","parent","find","show","hide","guessCode","attr","css","scrollTop","animate","top","playerImg","odds","playerName","_matchVsScore","all_prize","teamName","str"],"mappings":"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","file":"../js/guessNew-1843.js","sourcesContent":["$(function () {\r\n    template.helper('boCN', function (obj) {\r\n        var array = ['一', '二', '三', '四', '五', '六', '七', '八', '九'];\r\n        return '第' + array[obj - 1] + '局';\r\n    });\r\n    template.helper('dateChange', function (obj) {\r\n        var newDate = moudle.formatTime(new Date(obj)).date + ' ' + moudle.formatTime(new Date(obj)).clock;\r\n        return newDate;\r\n    });\r\n    // moudle.ajax({\r\n    //     url: '/api/user-center/get-account-sum',\r\n    //     type: 'POST',\r\n    //     data: {}\r\n    // }, function (data) {\r\n    //     console.log(data)\r\n    // });\r\n    moudle.ajax({\r\n        url: '/api/match/guessing',\r\n        type: 'POST',\r\n        data: {\r\n            gameCode: 'lol',\r\n            pageIndex: 1,\r\n            pageSize: 3,\r\n            bGameIds: '',\r\n            roundType: 1\r\n        }\r\n    }, function (data) {\r\n        renderPage(data);\r\n    });\r\n    function dataDeal(data) {\r\n        $.each(data.data.matchList, function (i, item) {\r\n            var detail = [];\r\n            $.each(data.data.matchDetailList, function (i, itemDetail) {\r\n                var bMatchId = itemDetail.bMatchId,\r\n                    matchDetailId = itemDetail.matchDetailId,\r\n                    this_fun = [],\r\n                    obj = {},\r\n                    newArray = [];\r\n                if (bMatchId == item.bMatchId) {\r\n                    detail.push(itemDetail)\r\n                }\r\n                $.each(data.data.funCompetitionList, function (i, fun) {\r\n                    if (fun.matchDetailId == matchDetailId) {\r\n                        this_fun.push(fun)\r\n                    }\r\n                });\r\n                itemDetail.fun = this_fun;\r\n                $.each(itemDetail.fun, function (i, item) {\r\n                    if (item.competitionObject == 4) {\r\n                        if (!obj[item.competitionCode]) {\r\n                            obj[item.competitionCode] = [];\r\n\r\n                        }\r\n                        obj[item.competitionCode].push(item)\r\n                    }\r\n                });\r\n                for (var i in obj) {\r\n                    newArray.push(obj[i]);\r\n                }\r\n                itemDetail.otherGuess = newArray;\r\n                itemDetail.teamALogo = item.teamALogo;\r\n                itemDetail.teamBLogo = item.teamBLogo;\r\n                itemDetail.teamAName = item.teamAName;\r\n                itemDetail.teamBName = item.teamBName;\r\n            });\r\n            item.matchDetail = detail;\r\n        });\r\n        console.log(data)\r\n        return data;\r\n    }\r\n\r\n    $('.guessPage').on('click', '.select-title span', function () {\r\n        $(this).addClass('active').siblings().removeClass('active');\r\n        if ($(this).hasClass('title-players')) {\r\n            $(this).parent().parent().find('.players').show().find('.intro').html('选手竞猜');\r\n            $(this).parent().parent().find('.others').hide();\r\n        } else {\r\n            $(this).parent().parent().find('.others').show().find('.intro').html('其他玩法');\r\n            $(this).parent().parent().find('.players').hide();\r\n        }\r\n    });\r\n    //新 队员弹窗\r\n    $('.guessPage').on('click', '.guess_list li input', function () {\r\n        var guessCode = $(this).parent().attr('data-competitionCode'),\r\n            matchDetailId = $(this).parent().attr('data-matchDetailId');\r\n        $('body').css('overflow-y', 'hidden');\r\n        moudle.ajax({\r\n            url: '/api/competition/single-player-list',\r\n            type: 'POST',\r\n            data: {\r\n                guessCode: guessCode,\r\n                matchDetailId: matchDetailId\r\n            }\r\n        }, function (data) {\r\n            console.log(data)\r\n            $('.popup-teammember').html(template('popup-teammember', data));\r\n            $('.popup-teammember,.mask').show();\r\n        });\r\n    });\r\n    $('.guessPage').on('click', '.popup-teammember .close', function () {\r\n        $('body').css('overflow-y', 'scroll');\r\n        $('.popup-teammember,.mask').hide();\r\n    });\r\n    $('.guessPage').on('click', '.guessStateTab a', function () {\r\n        $(this).addClass('active').siblings().removeClass('active');\r\n        if ($(this).hasClass('gsing')) {\r\n            $('.guessing').addClass('active');\r\n            $('.guessEnd,.guessRule').removeClass('active');\r\n        } else if ($(this).hasClass('gsend')) {\r\n            $('.guessEnd').addClass('active');\r\n            $('.guessing,.guessRule').removeClass('active');\r\n        } else {\r\n            $('.guessRule').addClass('active');\r\n            $('.guessing,.guessEnd').removeClass('active');\r\n        }\r\n    });\r\n    $('.guessPage').on('click', '.icon_intro', function () {\r\n        $('.gsrule').addClass('active').siblings().removeClass('active');\r\n        $('.guessRule').addClass('active');\r\n        $('body').scrollTop(0);\r\n        $('.guessing,.guessEnd').removeClass('active');\r\n    });\r\n    $('.guessPage').on('click', '.guess-list', function () {\r\n        $(\".popup_bet\").show();\r\n        $(\".popup_bet\").animate({top: \"27%\"}, 300);\r\n        $(\".mask\").show();\r\n    });\r\n    $('.guessPage').on('click', '.popup_old .closePopup', function () {\r\n        $(\".guess_box li a\").removeClass(\"active\");\r\n        $(\".popup_bet\").animate({top: \"106%\"}, 300, function () {\r\n            $(this).css(\"top\", \"-57%\");\r\n            $(\".popup_bet\").hide();\r\n        });\r\n        $(\".mask\").hide();\r\n        $(\"input.betCoin\").val(\"\");\r\n    });\r\n    $('.guessPage').on('click', '.select_popup li', function () {\r\n        $(this).addClass('active').siblings().removeClass('active');\r\n        var playerImg = $(this).attr('data-playerImg'),\r\n            odds = $(this).attr('data-odds'),\r\n            playerName = $(this).attr('data-playerName');\r\n        $('.chooseplayer img').attr('src', playerImg);\r\n        $('.chooseplayer p').html(playerName);\r\n        $('.compensate span').html(odds)\r\n        calProfit();\r\n    });\r\n    //原始 新玩法弹窗\r\n    $('.guessPage').on('click', '.bet input', function () {\r\n        var _matchVsScore = $(this).parent().parent().parent().siblings('.matchVsScore');\r\n        var all_prize = $(this).parent().siblings('.bet_detail').find('span').html();\r\n        var teamName = $(this).siblings('.teamName').html();\r\n        var str = _matchVsScore.attr('data-gameName') + '  ' + _matchVsScore.find('.matchTitle').html() + '  |  ' + _matchVsScore.attr('data-teamAName') + '  VS  ' + _matchVsScore.attr('data-teamBName') + '  总局';\r\n        $('body').css('overflow-y', 'hidden');\r\n        $('.popup_bet_new .betMatch').html(str);\r\n        $('.popup_bet_new .betWin span').html(teamName);\r\n        $('.popup_bet_new .betObject span').html(all_prize);\r\n        $('.popup_bet_new,.mask').show();\r\n    });\r\n    $('.guessPage').on('click', '.popup_bet_new .closePopup', function () {\r\n        $('body').css('overflow-y', 'scroll');\r\n\r\n        $('.popup_bet_new,.mask').hide();\r\n    });\r\n    $('.guessPage').on('keyup', '.popup-teammember .bet_limit input', function () {\r\n        calProfit()\r\n    });\r\n    function calProfit(inputVal) {\r\n        if (($('.compensate span').html() && $('.bet_limit input').val())) {\r\n            var profit = $('.compensate span').html() * $('.bet_limit input').val();\r\n            $('.popup-teammember .income span').html(profit.toFixed(2))\r\n        }\r\n    }\r\n\r\n    function renderPage(data) {\r\n        $('.new_play').html(template('new_play', dataDeal(data)))\r\n    }\r\n});"]}